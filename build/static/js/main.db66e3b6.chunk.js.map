{"version":3,"sources":["utils/config.js","ContextProvider.js","components/Sidebar.js","components/Stake.js","components/TradeChart.js","utils/wallet.js","utils/SnackbarUtils.js","utils/tezos.js","components/Snackbar.js","components/Position.js","components/PositionTable.js","components/Trade.js","components/LeaderBoard.js","Main.js","App.js","reportWebVitals.js","index.js"],"names":["NETWORK","RPC","PRECISION","CONTRACT_ADDRESS","vUSD_ADDRESS","UserContext","createContext","ContexProvider","children","useState","CPosiitonUpdated","setCPosiitonUpdated","maketPrice","setMarketPrice","kusdTokenBalance","setkusdTokenBalance","Provider","value","Sidebar","props","coinSelect","setCoinSelect","stake","useContext","useEffect","style","height","className","onClick","src","width","alt","minWidth","disabled","display","position","zIndex","right","marginTop","Dropdown","Toggle","variant","id","marginRight","bottom","marginBottom","fontSize","fontWeight","toUpperCase","Menu","Item","Stake","stakingTabs","setStakingTabs","rel","href","type","placeholder","name","color","marginLeft","Button","socket","iO","TradeChart","activecandle","setActivecandle","chartRef","useRef","useLayoutEffect","root","am5","new","myTheme","rule","states","create","fill","stroke","setThemes","am5themes_Dark","am5themes_Responsive","stockChart","container","push","am5stock","numberFormatter","set","mainPanel","panels","wheelY","panX","panY","valueAxis","yAxes","am5xy","renderer","pan","maxPrecision","tooltip","numberFormat","extraTooltipPrecision","timeunit","dateAxis","xAxes","baseInterval","timeUnit","count","currentValueDataItem","createAxisRange","makeDataItem","currentLabel","get","setAll","background","currentGrid","strokeOpacity","strokeDasharray","valueSeries","series","clustered","valueXField","valueYField","highValueYField","lowValueYField","openValueYField","calculateAggregates","xAxis","yAxis","legendValueText","legendRangeValueText","plotContainer","visible","data","snapToSeries","snapToSeriesBy","scrollbar","orientation","toolsContainer","sbDateAxis","chart","sbValueAxis","sbSeries","fills","template","fillOpacity","data1","qs","stringify","axios","post","headers","then","res","dateFields","dateFormat","numericFields","processMany","catch","err","console","log","loadData","greet","lastDataObject","getIndex","length","undefined","high","High","low","Low","open","Open","dObj2","Date","Close","setIndex","animate","key","to","duration","easing","out","cubic","getNumberFormatter","format","bg","interfaceColors","on","date","now","dObj1","insertvalue","current","dispose","$","document","ready","last","addClass","click","removeClass","this","wallet","BeaconWallet","preferredNetwork","connectWallet","requestPermissions","network","rpcUrl","disconnectWallet","clearActiveAccount","getAccount","client","getActiveAccount","activeAccount","address","SnackbarUtils","enqueueSnackbar","closeSnackbar","msg","options","toast","finalOptions","tezos","TezosToolkit","setWalletProvider","multiple","openPosition","base_value","leverage_multiple","direction","info","at","vmm_contract","vusd_contract","op1","methods","approve","toTransferParams","kind","OpKind","TRANSACTION","op2","increasePosition","batch","send","batchOp","confirmation","opHash","error","closePosition","state_name","withContractCall","decreasePosition","leverage","amount","success","removeMargin","addMargin","Snackbar1","show","setshow","Stack","spacing","sx","Snackbar","autoHideDuration","onClose","Alert","severity","message","transaction","target","textDecoration","Position","positiondetail","graph","gethistory","Vmm","isTxn","setIsTxn","Addshow","setAddShow","Closeshow","setCloseShow","increaseshow","setIncreaseshow","decreaseshow","setDecreaseshow","closePostion","setClosePosition","rangeValue","setRangeValue","baseXrange","setbaseXrange","baseValue","setBaseValue","AddorRemove","setAddorRemove","marginRatio","setmarginRatio","phbar","setPhbar","priceImpact","setPriceImpact","expectedClose","setExpectedClose","snackbarshow","setSnackbarshow","calculatedX","setCalculatedX","setType","calculateExpectedPrice","marratio","collateral_amount","vUSD_amount","parseFloat","toFixed","perUsd","token_amount","VmmToken","position_value","x","invariant","priceimpact","marketprice","pertoken","Vmmtoken","setOpenlongpriceImpact","VmmUsd","actualToken","Math","abs","setOpenshortpriceImpact","MarginOnChange","e","IncreaseOrDecreaseFunc","addBaseValue","ProgressBar","entry_price","funding_amount","centered","onHide","backdrop","keyboard","Header","border","closeButton","Title","Body","onChange","event","borderRadius","margin","textAlign","padding","Footer","left","ScaleLoader","min","max","parseInt","borderBottom","flexBasis","justifyContent","fontFamily","step","Slider","defaultValue","marks","top","PositionTable","getData","setGetData","fetchdata","header","positionhistory","reverse","Table","borderless","responsive","map","item","index","time","toLocaleString","liquidate","realizedpnl","alignItems","transform","p","m","Trade","setOpen","handleOpen","handleClose","isPosition","setIsPosition","liveposition","setliveposition","currentPosition","setCurrentPosition","indexprice","rate","longfundingrate","shortfundingrate","graphValues","setGraphValues","setShow","setVmm","getHistory","history","parse","upcoming_funding_time","minutes","floor","seconds","Vmmdata","vmm","current_mark_price","current_index_price","fundingTime","long_funding_rate","short_funding_rate","positions","setInterval","funOpenPosition","Modal","Box","component","noValidate","autoComplete","Typography","paddingTop","align","backgroundColor","LeaderBoard","searchaddress","isEmpty","setIsEmpty","array","setArray","size","setSize","page","setpage","startrange","setStartRange","range","setRange","getdata","result","i","rank","trunc","newvalue","concat","newArray","filter","el","Address","includes","onchange","slice","LiquidationCount","CompletedPosition","Totalpnl","Pagination","First","Prev","Next","Last","Main","Loading","setLoading","setAddress","tradeOrStake","setTradeOrStake","account","setAccount","isOpen","tokenBalance","setTokenBalance","gettokendata","accounts","getbalacnce","balance","onConnectWallet","onDisconnectWallet","getToken","sidebarmenu","ClipLoader","substring","toggled","toggle","navigator","clipboard","writeText","alert","App","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render"],"mappings":"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","file":"static/js/main.db66e3b6.chunk.js","sourcesContent":["\nexport const NETWORK = 'ghostnet';\nexport const RPC = 'https://rpc.ghostnet.teztnets.xyz/';\nexport const PRECISION = 1000000000000000000;\nexport const CONTRACT_ADDRESS = \"KT1G3QTC2Dzp38eNqdSSkNCE62mnK3mt3iWJ\";\nexport const vUSD_ADDRESS = 'KT1D5xQy9x7YSgrzTzLJx9tEQ6qK9pSW2vfz';\n ","import { createContext, useState } from \"react\";\n\nconst UserContext = createContext();\n\nexport function ContexProvider({children}){\n    const [CPosiitonUpdated,setCPosiitonUpdated] = useState(true);\n    const [maketPrice,setMarketPrice] = useState(\"\")\n    const [kusdTokenBalance,setkusdTokenBalance] = useState(0)\n\n    \n    \n    return(\n        <UserContext.Provider value={{setCPosiitonUpdated,CPosiitonUpdated,setMarketPrice,maketPrice,setkusdTokenBalance,kusdTokenBalance}} >\n            {children}\n        </UserContext.Provider>\n    )\n\n}\nexport default UserContext;","import React, { useEffect, useState,useContext } from 'react'\nimport '../style/sidebar.css'\nimport {DropdownButton,Dropdown} from 'react-bootstrap'\nimport axios from 'axios'\nimport { PRECISION,CONTRACT_ADDRESS} from '../utils/config';\nimport UserContext from \"../ContextProvider.js\";\n\nconst Sidebar = (props) => {\n    const {coinSelect, setCoinSelect,stake} = props\n    const {maketPrice } = useContext(UserContext)\n\n    useEffect(()=>{\n\n    },[maketPrice])\n  return (\n    <>\n    <div style={{height:`${stake=='stake'?'100%':\"\"}`}} className='sidebar '>\n      <div className=\"coins\">\n        <div className={`${coinSelect === 'tezos'? 'sidebar-sel': '' } coin my-3 d-flex text-start`} onClick={()=>{setCoinSelect('tezos')}} >\n            <div className='mx-2'><img src=\"/img/tz.svg\" style={{width:'20px'}} alt=\"\" /></div>\n            <div style={{minWidth:'80px'}}>Tezos <br />XTZ</div>\n            <div  className='me-2 ms-auto text-end'>{maketPrice} kUSD</div>\n        </div>\n        <div disabled className={`${coinSelect === 'btc'? 'sidebar-sel': '' } coin my-3 d-flex text-start`} /*onClick={()=>{setCoinSelect('btc')}}*/ >\n            <div className='mx-2'><img src=\"img/btc.svg\" style={{width:'20px'}} alt=\"\" /></div>\n            <div style={{minWidth:'80px'}}>Bitcoin <br />BTC</div>\n            <div className='me-2 ms-auto text-end'>Coming soon</div>\n        </div>\n        <div disabled className={`${coinSelect === 'eth'? 'sidebar-sel': '' } coin my-3 d-flex text-start`} /* onClick={()=>{setCoinSelect('eth')}}*/ >\n            <div className='mx-2'><img src=\"img/eth.svg\" style={{width:'20px'}} alt=\"\" /></div>\n            <div style={{minWidth:'80px'}}>Ethereum<br />ETH</div>\n            <div className='me-2 ms-auto text-end'>Coming soon</div>\n        </div>\n      </div>\n    </div>\n    <div style={{display:`${stake =='stake'?\"none\":\"\"}`}} className=\"Dropdown\">\n      <span style={{position:\"absolute\", zIndex:\"1\", right:\"10%\",marginTop:\"6px\"}}><img src =\"img/Star 1.png\" /> </span>\n    \n    <Dropdown>\n      <Dropdown.Toggle variant=\"success\" id=\"dropdown-item-button\">\n      <img style={{marginRight:\"10px\" ,position:\"relative\", bottom:\"3px\",marginBottom:\"5px\",width:\"30px\"}} src=\"img/tz.svg\" /><span style={{marginRight:\"10px\" ,position:\"relative\", bottom:\"3px\",marginBottom:\"5px\",fontSize:\"18px\",fontWeight:\"bold\"}}>{coinSelect.toUpperCase()}</span>\n      </Dropdown.Toggle>\n\n      <Dropdown.Menu>\n        <Dropdown.Item >Tezos</Dropdown.Item>\n        <Dropdown.Item >Bitcoin <span className='comingsoondropdown'>coming soon </span> </Dropdown.Item>\n        <Dropdown.Item >Ethereum <span className='comingsoondropdown'>coming soon </span></Dropdown.Item>\n      </Dropdown.Menu>\n      </Dropdown>\n    </div>\n  </> \n  )\n}\n\nexport default Sidebar\n","import React, { useState } from 'react'\nimport { Button } from 'react-bootstrap'\n\nconst Stake = () => {\n\n  const [stakingTabs, setStakingTabs] = useState('staking')\n\n\n  return (\n    <div className='stake p-5'>\n      <link rel=\"stylesheet\" href=\"/styles/stake.css\" />\n      <div className=\"heading-banner text-start p-5\">\n        <div className=\"heading-name p-4\">\n          <h2 className='fw-bolder'>Staking</h2>\n          <h5>Total in staking 106852 ZNTH</h5>\n        </div>\n        <div className=\"heading-infos d-flex\">\n          <div className=\"heading-info\">\n            <div className=\"heading-info-title\">Available to stake</div>\n            <div className=\"heading-info-value\">0 ZNTH</div>\n          </div>\n          <div className=\"heading-info\">\n            <div className=\"heading-info-title\">Staked Balance</div>\n            <div className=\"heading-info-value\">0 ZNTH</div>\n          </div>\n          <div className=\"heading-info\">\n            <div className=\"heading-info-title\">APY</div>\n            <div className=\"heading-info-value\">3.81%</div>\n          </div>\n          <div className=\"heading-info\">\n            <div className=\"heading-info-title\">Total profit</div>\n            <div className=\"heading-info-value\">0 kUSD</div>\n          </div>\n        </div>\n      </div>\n\n\n      <div className=\"stake-main d-flex\">\n        <div className=\"staking me-auto p-4\">\n          <div className=\"d-flex staking-tabs my-3 mx-2\">\n            <div className={`staking-tab  ${stakingTabs === 'staking'?'staking-tabs-sel':''} `} onClick={()=>{setStakingTabs('staking')}} >Staking</div>\n            <div className={`staking-tab  ${stakingTabs === 'unstaking'?'staking-tabs-sel':''} `} onClick={()=>{setStakingTabs('unstaking')}} >Unstaking</div>\n            <div className={`staking-tab  ${stakingTabs === 'claiming'?'staking-tabs-sel':''} `} onClick={()=>{setStakingTabs('claiming')}} >Claiming</div>\n          </div>\n\n\n          {stakingTabs==='staking'?(<>\n          <div className=\" w-100 staking-content d-flex\">\n            <input type=\"text\" className='x-auto px-3' placeholder='ZNTH' name=\"staking\" id=\"staking-input\" />\n            <button className='staking-btn'>0.00</button>\n          </div>\n          {/* <p className=\"text-danger text-start\">Insufficient XTZ balance</p> */}\n\n          <div className=\"profits\">\n            <div className=\"profit d-flex\">\n              <div className=\"me-auto\">Daily Profit</div>\n              <div><span className=\"text-success\">+0</span> kUSD</div>\n            </div>\n            <div className=\"profit d-flex\">\n              <div className=\"me-auto\">Monthly Profit</div>\n              <div><span className=\"text-success\">+0</span> kUSD</div>\n            </div>\n            <div className=\"profit d-flex\">\n              <div className=\"me-auto\">Yearly Profit</div>\n              <div><span className=\"text-success\">+0</span> kUSD</div>\n            </div>\n          </div>\n\n          <button className=\"staking-button\">Stake</button>\n          </>):\n          stakingTabs==='unstaking'?\n          <>\n            <div className=\" w-100 staking-content d-flex mt-4\">\n              <input type=\"text\" className='x-auto px-3' placeholder='ZNTH' name=\"staking\" id=\"staking-input\" />\n              <button className='staking-btn'>Amount</button>\n            </div>\n            <p className=\"text-start\">Staked 0 ZNTH.<span style={{fontSize:\"12px\",color:\"rgba(98, 108, 182, 1)\",marginLeft:\"5px\"}}>Spend the entire amount.</span> </p>\n          <button className=\"staking-button\">Unstake</button>\n          </>:\n          <>\n            <div className=\" w-100 staking-content d-flex mt-4\">\n              <input type=\"text\" className='w-100 px-3' placeholder='You will recieve    0.00 kUSD' name=\"staking\" id=\"staking-input\" />\n            </div>\n          <button className=\"staking-button my-5\">Claim</button>\n          </>\n          }\n\n        </div>\n        <div className='Balance'>\n          <h4>Balance</h4>\n          <input placeholder='0 ZNTH' type=\"text\"/>\n          <div className='availabel_stake_balance'>\n          <p>Available to Stake</p>\n          <p>0 ZNTH</p>\n          </div>\n          <Button>BUY ZNTH</Button>\n        </div>\n        \n        <div className=\"benefits  text-start p-4\">\n          <h3 className=\"fw-bold\">How do I benefit from staking?</h3>\n          <p>Protocol takes a flat 1% fee on each trade. Half of this amount is redistributed among the XTZ token stackers. Stakers will receive vUSD continuously proportional to their portion of the total XTZ in staking. Rewards will accrue every 1 hour.</p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Stake\n","import React, { useRef, useLayoutEffect, useState, useEffect } from 'react';\nimport am5themes_Responsive from \"@amcharts/amcharts5/themes/Responsive\";\nimport am5themes_Dark from \"@amcharts/amcharts5/themes/Dark\";\nimport * as am5 from \"@amcharts/amcharts5\";\nimport * as am5xy from \"@amcharts/amcharts5/xy\";\nimport * as am5stock from \"@amcharts/amcharts5/stock\";\nimport $ from 'jquery'\nimport iO from 'socket.io-client'\nimport qs from 'qs'\nimport axios from 'axios';\n\n\nconst socket = iO('https://zenith-api-l8hhy.ondigitalocean.app/');\n\n\n\nfunction TradeChart(props) {\n  const [activecandle, setActivecandle] = useState(\"5minute\")\n  const chartRef = useRef(null);\n\n  useLayoutEffect(() => {\n\n\n\n    let root = am5.Root.new(\"chartdiv\");\n    const myTheme = am5.Theme.new(root);\n    \n    myTheme.rule(\"Candlestick\").states.create(\"riseFromOpen\", {\n      fill: am5.color(0xECC89),\n      stroke: am5.color(0xECC89)\n    });\n    \n    myTheme.rule(\"Candlestick\").states.create(\"dropFromOpen\", {\n      fill: am5.color(0xE01B3C),\n      stroke: am5.color(0xE01B3C)\n    });\n\n    root.setThemes([\n      am5themes_Dark.new(root),\n      am5themes_Responsive.new(root),\n      myTheme\n    ]);\n    \n\n    let stockChart = root.container.children.push(\n      am5stock.StockChart.new(root, {})\n    );\n\n    root.numberFormatter.set(\"numberFormat\", \"#,###.000\");\n\n    let mainPanel = stockChart.panels.push(\n      am5stock.StockPanel.new(root, {\n        wheelY: \"zoomX\",\n        panX: true,\n        panY: true,\n        \n      })\n    );\n\n    let valueAxis = mainPanel.yAxes.push(\n      am5xy.ValueAxis.new(root, {\n        renderer: am5xy.AxisRendererY.new(root, {\n          pan: \"zoom\"\n        }),\n        maxPrecision: 3,\n        tooltip: am5.Tooltip.new(root, {}),\n        numberFormat: \"#,###.000\",\n        extraTooltipPrecision: 3\n      })\n    );\n\n    let timeunit = \"minute\";\n    if (activecandle == \"hour\") {\n      timeunit = \"hour\"\n    }\n    else if (activecandle == \"day\") {\n      timeunit = \"day\"\n    }\n\n\n    let dateAxis = mainPanel.xAxes.push(\n      am5xy.GaplessDateAxis.new(root, {\n        baseInterval: {\n          timeUnit: timeunit,\n          count: 1\n        },\n        renderer: am5xy.AxisRendererX.new(root, {}),\n        tooltip: am5.Tooltip.new(root, {})\n      })\n    );\n\n\n    let currentValueDataItem = valueAxis.createAxisRange(valueAxis.makeDataItem({ value: 0 }));\n    let currentLabel = currentValueDataItem.get(\"label\");\n    if (currentLabel) {\n      currentLabel.setAll({\n        fill: am5.color(0xffffff),\n        background: am5.Rectangle.new(root, { fill: am5.color(0x000000) }),\n      })\n    }\n\n    let currentGrid = currentValueDataItem.get(\"grid\");\n    if (currentGrid) {\n      currentGrid.setAll({ strokeOpacity: 0.5, strokeDasharray: [2, 5] });\n    }\n\n\n    let valueSeries = mainPanel.series.push(\n      am5xy.CandlestickSeries.new(root, {\n        clustered: false,\n        valueXField: \"Date\",\n        valueYField: \"Close\",\n        highValueYField: \"High\",\n        lowValueYField: \"Low\",\n        openValueYField: \"Open\",\n        calculateAggregates: true,\n        xAxis: dateAxis,\n        yAxis: valueAxis,\n        legendValueText:\n          \"open: [bold]{openValueY}[/] high: [bold]{highValueY}[/] low: [bold]{lowValueY}[/] close: [bold]{valueY}[/]\",\n        legendRangeValueText: \"\"\n      })\n    );\n\n\n    stockChart.set(\"stockSeries\", valueSeries);\n\n\n    let valueLegend = mainPanel.plotContainer.children.push(\n      am5stock.StockLegend.new(root, {\n        stockChart: stockChart,\n        visible: true,\n        width:\"200px\",\n      })\n    );\n\n\n    valueLegend.data.setAll([valueSeries]);\n\n    mainPanel.set(\n      \"cursor\",\n      am5xy.XYCursor.new(root, {\n        yAxis: valueAxis,\n        xAxis: dateAxis,\n        snapToSeries: [valueSeries],\n        snapToSeriesBy: \"y!\"\n      })\n    );\n\n    let scrollbar = mainPanel.set(\n      \"scrollbarX\",\n      am5xy.XYChartScrollbar.new(root, {\n        orientation: \"horizontal\",\n        height: 50,\n        visible: false\n      })\n    );\n    stockChart.toolsContainer.children.push(scrollbar);\n\n    let sbDateAxis = scrollbar.chart.xAxes.push(\n      am5xy.GaplessDateAxis.new(root, {\n        baseInterval: {\n          timeUnit: timeunit,\n          count: 1\n        },\n        \n        renderer: am5xy.AxisRendererX.new(root, {\n        })\n      })\n    );\n\n    let sbValueAxis = scrollbar.chart.yAxes.push(\n      am5xy.ValueAxis.new(root, {\n        renderer: am5xy.AxisRendererY.new(root, {})\n      })\n    );\n\n    let sbSeries = scrollbar.chart.series.push(\n      am5xy.LineSeries.new(root, {\n        valueYField: \"Close\",\n        valueXField: \"Date\",\n        xAxis: sbDateAxis,\n        yAxis: sbValueAxis\n      })\n    );\n\n    sbSeries.fills.template.setAll({\n      visible: true,\n      fillOpacity: 0.3\n    });\n\n\n    function loadData() {\n\n      let data1 = qs.stringify({ \"granularity\": activecandle })\n\n      axios.post('https://zenith-api-l8hhy.ondigitalocean.app/granularity', data1, {\n        headers: {\n          'Content-Type': \"application/x-www-form-urlencoded\"\n        }\n      }).then(res => {\n        let data = res.data\n       \n        \n        let processor = am5.DataProcessor.new(root, {\n          \n          dateFields: [\"Date\"],\n          dateFormat: \"yyyy.MM.dd G 'at' HH:mm:ss zzz\",\n          numericFields: [\"Open\", \"High\", \"Low\", \"Close\"]\n        });\n\n        processor.processMany(data)\n        \n        valueSeries.data.setAll(data);\n        sbSeries.data.setAll(data);\n      }).catch(err => console.log(err))\n    }\n\n    loadData()\n\n\n    let previousDate;\n\n    const greet = (data) => {\n      let valueSeries = stockChart.get(\"stockSeries\");\n\n      let lastDataObject = valueSeries.data.getIndex(valueSeries.data.length - 1);\n      if (lastDataObject == undefined) {\n        return\n      }\n\n\n      let high = lastDataObject.High;\n      let low = lastDataObject.Low;\n      let open = lastDataObject.Open;\n\n      let value = data\n      if (value > high) {\n        high = value;\n      }\n\n      if (value < low) {\n        low = value;\n      }\n\n      let dObj2 = {\n        Date: lastDataObject.Date,\n        Close: value,\n        Open: open,\n        Low: low,\n        High: high\n      };\n      let processor = am5.DataProcessor.new(root, {\n        dateFields: [\"Date\"],\n        dateFormat: \"yyyy-MM-dd HH:mm:ss\",\n        numericFields: [\"Open\", \"High\", \"Low\", \"Close\"]\n      });\n      processor.processMany(dObj2);\n\n      console.log(valueSeries.data.length)\n      valueSeries.data.setIndex(valueSeries.data.length - 1, dObj2);\n      sbSeries.data.setIndex(sbSeries.data.length - 1, dObj2);\n      console.log(valueSeries.data.getIndex(valueSeries.data.length - 1))\n      // update current value\n      if (currentLabel) {\n        currentValueDataItem.animate({ key: \"value\", to: value, duration: 500, easing: am5.ease.out(am5.ease.cubic) });\n        currentLabel.set(\"text\", stockChart.getNumberFormatter().format(value));\n        let bg = currentLabel.get(\"background\");\n        if (bg) {\n          if (value < open) {\n            bg.set(\"fill\", root.interfaceColors.get(\"negative\"));\n          }\n          else {\n            bg.set(\"fill\", root.interfaceColors.get(\"positive\"));\n          }\n        }\n      }\n    }\n\n    const insertvalue = (data) => {\n\n      let date = Date.now();\n\n\n      let valueSeries = stockChart.get(\"stockSeries\");\n      let lastDataObject = valueSeries.data.getIndex(valueSeries.data.length - 1);\n      if (lastDataObject == undefined) {\n        return\n      }\n\n\n\n      if (activecandle == \"15minute\") {\n        if (((lastDataObject.Date - date) / 1000) < 900) {\n          greet(data)\n          return\n        }\n      }\n      else if (activecandle == \"hour\") {\n        if (((lastDataObject.Date - date) / 1000) < 3600) {\n          greet(data)\n          return\n        }\n      }\n      else if (activecandle == \"day\") {\n        if (((lastDataObject.Date - date) / 1000) < 86400) {\n          greet(data)\n          return\n        }\n      }\n\n      let open = lastDataObject.Open;\n      let value = data\n      let dObj1 = {\n\n        Date: date,\n        Close: value,\n        Open: value,\n        Low: value,\n        High: value\n      };\n      let processor = am5.DataProcessor.new(root, {\n        dateFields: [\"Date\"],\n        dateFormat: \"yyyy-MM-dd HH:mm:ss\",\n        numericFields: [\"Open\", \"High\", \"Low\", \"Close\"]\n      });\n      processor.processMany(dObj1);\n      valueSeries.data.push(dObj1);\n      sbSeries.data.push(dObj1);\n      previousDate = date;\n\n\n      if (currentLabel) {\n        currentValueDataItem.animate({ key: \"value\", to: value, duration: 500, easing: am5.ease.out(am5.ease.cubic) });\n        currentLabel.set(\"text\", stockChart.getNumberFormatter().format(value));\n        let bg = currentLabel.get(\"background\");\n        if (bg) {\n          if (value < open) {\n            bg.set(\"fill\", root.interfaceColors.get(\"negative\"));\n          }\n          else {\n            bg.set(\"fill\", root.interfaceColors.get(\"positive\"));\n          }\n        }\n      }\n    }\n\n\n    socket.on(\"data4\", (data) => {\n      console.log(data)\n\n      greet(data)\n    })\n    socket.on(\"data3\", (data) => {\n      insertvalue(data)\n    })\n\n    chartRef.current = stockChart;\n    return () => {\n      root.dispose();\n    };\n  }, [activecandle]);\n\n\n\n  return (\n    <>\n      <style>{`\n\n#chartcontrols {\n    height: auto;\n    padding: 5px 5px 0 16px;\n    position: relative;\n  }\n  \n\n  #chartdiv {\n    width: 100%;\n    height: 55vh;\n    max-width: 100%;\n    position: relative;\n  }\n\n  .am5stock-control-button {\n    box-sizing: border-box;\n    max-height: 200px;\n    font-size:12px;\n    opacity:1;\n  }\n  .am5stock-control-button{\n    box-sizing: border-box;\n    max-height: 200px;\n  }\n  .am5stock .am5stock-control-list-container{\n    position:absolute;\n    top:-11px;\n    left:-2px;\n    z-index:1;\n    min-height:100%;\n    box-sizing:border-box;\n    display:flex !important;\n  }\n\n  .am5stock-control-list{\n    display:flex !important;\n  }\n  .am5stock-control-list-arrow{\n    display:none;\n  }\n\n  .am5stock-control-drawing-tools{\n    display: block;\n  position: absolute;\n    display:none\n  }\n  .am5stock-control-dropdown{\n    font-size:12px;\n  }\n  .am5stock-link {\n    color:white;\n    text-decoration:none;\n  }\n  .active{\n    background :#281e3d;\n    \n  }\n  .logohide{\n    margin-top:-19px;\n    position: absolute;\n    width:60px;\n    height:15px;\n    background:#000614;\n    z-index:1;\n  }\n  .candletime{\n    margin:0 8px;\n    min-width:60px;\n    border-radius:5px;\n    color:white;\n    border:none;\n    background:none;\n  }\n  .active{\n    background:#59219d;\n  }\n@media screen and (max-width:766px) and (min-width:270px){\n  #chartdiv {\n    width: 100%;\n    height: 40vh;\n    max-width: 100%;\n    position: relative;\n  }\n}\n\n      `}</style>\n      <ul className='candletimediv'>\n        <button className={`${activecandle == '5minute' ? 'active' : ''} candletime`} onClick={() => setActivecandle(\"5minute\")} >5min</button>\n        <button className={`${activecandle == '15minute' ? 'active' : ''} candletime`} onClick={() => setActivecandle(\"15minute\")} >15min</button>\n        <button className={`${activecandle == 'hour' ? 'active' : ''} candletime`} onClick={() => setActivecandle(\"hour\")}>Hour</button>\n        <button className={`${activecandle == 'day' ? 'active' : ''} candletime`} onClick={() => setActivecandle(\"day\")}>Day</button>\n      </ul>\n\n      <div id=\"chartcontrols1\"></div>\n      <div id=\"chartdiv\"></div>\n      <span className='logohide'></span>\n\n    </>\n  );\n}\n\nexport default TradeChart;\n\n$(document).ready(function () {\n  $(\".am5stock-list-item\").last().addClass(\"active\");\n  $(\".am5stock-list-item\").click(function () {\n    $(\".am5stock-list-item\").removeClass(\"active\");\n    $(this).addClass(\"active\");\n  });\n});","// TODO 2.a - Setup beacon wallet instance\nimport { BeaconWallet } from \"@taquito/beacon-wallet\";\nimport {NETWORK, RPC} from './config';\n\n\n\nexport const wallet = new BeaconWallet({\n  name: \"Zenith\",\n  preferredNetwork: NETWORK,\n});\n\n// TODO 2.b - Setup connectWallet function (on jakartanet)\nexport const connectWallet = async () => {\n  await wallet.requestPermissions({ network: { type: NETWORK, rpcUrl: RPC } });\n};\n\nexport const disconnectWallet = async () => {\n    await wallet.clearActiveAccount();\n  };\n\n// TODO 2.c - Setup getAccount function\n\nexport const getAccount = async () => {\n  const activeAccount = await wallet.client.getActiveAccount();\n  if (activeAccount) {\n    return activeAccount.address;\n  } else {\n    return \"\";\n  }\n};","class SnackbarUtils {\n  #snackBar = {\n    enqueueSnackbar: ()=>{},\n    closeSnackbar: () => {},\n  };\n\n  setSnackBar(enqueueSnackbar, closeSnackbar) {\n    this.#snackBar.enqueueSnackbar = enqueueSnackbar;\n    this.#snackBar.closeSnackbar = closeSnackbar;\n  }\n\n  success(msg, options = {}) {\n    return this.toast(msg, { ...options, variant: \"success\" });\n  }\n  warning(msg, options = {}) {\n    return this.toast(msg, { ...options, variant: \"warning\" });\n  }\n  info(msg, options = {}) {\n    return this.toast(msg, { ...options, variant: \"info\" });\n  }\n\n  error(msg, options = {}) {\n    return this.toast(msg, { ...options, variant: \"error\" });\n  }\n  toast(msg, options = {}) {\n    const finalOptions = {\n      variant: \"default\",\n      ...options,\n    };\n    return this.#snackBar.enqueueSnackbar(msg, { ...finalOptions });\n  }\n  closeSnackbar(key) {\n    this.#snackBar.closeSnackbar(key);\n  }\n}\n\nexport default new SnackbarUtils();","import { OpKind, TezosToolkit } from \"@taquito/taquito\";\nimport { wallet, getAccount } from \"./wallet\";\nimport { RPC } from './config'\nimport SnackbarUtils from './SnackbarUtils';\nimport axios from 'axios';\nimport { CONTRACT_ADDRESS,vUSD_ADDRESS } from \"./config\";\n\nexport const tezos = new TezosToolkit(RPC);\n\n\n\ntezos.setWalletProvider(wallet);\n\nexport const getBalance = async () => {\n    const address = await getAccount();\n    const getbalacnce = await axios.get(`https://api.ghostnet.tzkt.io/v1/contracts/${vUSD_ADDRESS}/bigmaps/balances/keys/${address}`)\n    if (getbalacnce.data == '') {\n        return true\n    }\n    else {\n        return false\n    }\n}\n\n\n\nconst multiple = 1000000000000000000\n\n\nexport const openPosition = async (base_value, leverage_multiple, direction) => {\n\n    try {\n        const value = base_value * multiple\n        SnackbarUtils.info(\"Transaction in Process\");\n\n        SnackbarUtils.info(\"Connecting Account\");\n        const vmm_contract = await tezos.wallet.at(CONTRACT_ADDRESS);\n        SnackbarUtils.info(\"Connecting Contracts\");\n        const vusd_contract = await tezos.wallet.at(vUSD_ADDRESS);\n        SnackbarUtils.info(\"Transaction in Process\");\n\n        const op1 = vusd_contract.methods.approve(CONTRACT_ADDRESS, value).toTransferParams();\n        op1.kind = OpKind.TRANSACTION;\n\n        const op2 = vmm_contract.methods.increasePosition(direction, leverage_multiple, value).toTransferParams();\n        op2.kind = OpKind.TRANSACTION;\n        const batch = await tezos.wallet.batch([op1, op2]);\n        SnackbarUtils.info('Sending Txn')\n        const batchOp = await batch.send();\n        SnackbarUtils.info(\"Waiting for confirmation\")\n        await batchOp.confirmation()\n\n    return batchOp.opHash\n    } catch (err) {\n        console.log(err)\n        SnackbarUtils.error(\"Error Please Try Again\")\n    }\n}\n\nexport const closePosition = async (state_name) => {\n    try {\n        SnackbarUtils.info('Txn Started')\n        const vmm_contract = await tezos.wallet.at(CONTRACT_ADDRESS);\n        SnackbarUtils.info('Contract Connected')\n        const batch = await tezos.wallet.batch()\n            .withContractCall(vmm_contract.methods.closePosition(state_name));\n        SnackbarUtils.info('Sending Txn')\n        const batchOp = await batch.send();\n        SnackbarUtils.info(\"Waiting for confirmation\")\n        await batchOp.confirmation()\n        console.log(batchOp)\n\n        return batchOp.opHash\n    }\n    catch (err) {\n        console.log(err)\n        SnackbarUtils.error(\"Error Please Try Again\")\n    }\n\n\n}\n\n\nexport const decreasePosition = async (leverage, amount) => {\n    try {\n        SnackbarUtils.info('Txn Started')\n        const vmm_contract = await tezos.wallet.at(CONTRACT_ADDRESS);\n        SnackbarUtils.info('Contract Connected')\n        const batch = await tezos.wallet.batch()\n            .withContractCall(vmm_contract.methods.decreasePosition(leverage, amount * multiple));\n        SnackbarUtils.info('Sending Txn')\n        const batchOp = await batch.send();\n        SnackbarUtils.info(\"Waiting for confirmation\")\n        await batchOp.confirmation()\n        SnackbarUtils.success(\"Txn Success\")\n        const address = await getAccount();\n\n        return batchOp.opHash\n    }\n    catch (err) {\n        console.log(err)\n        SnackbarUtils.error(\"Error Please Try Again\")\n\n    }\n\n\n}\nexport const removeMargin = async (amount) => {\n    try {\n       \n\n        SnackbarUtils.info('Txn Started')\n        const vmm_contract = await tezos.wallet.at(CONTRACT_ADDRESS);\n        SnackbarUtils.info('Contract Connected')\n        const batch = await tezos.wallet.batch()\n            .withContractCall(vmm_contract.methods.removeMargin(amount * multiple));\n        SnackbarUtils.info('Sending Txn')\n        const batchOp = await batch.send();\n        SnackbarUtils.info(\"Waiting for confirmation\")\n        await batchOp.confirmation()\n        SnackbarUtils.success(\"Txn Success\")\n\n        return batchOp.opHash\n\n    }\n    catch (err) {\n        console.log(err)\n        SnackbarUtils.error(\"Error Please Try Again\")\n\n    }\n\n}\nexport const addMargin = async (value) => {\n    try {\n        SnackbarUtils.info('Txn Started')\n        const vmm_contract = await tezos.wallet.at(CONTRACT_ADDRESS);\n        SnackbarUtils.info('Contract Connected')\n        const vusd_contract = await tezos.wallet.at(vUSD_ADDRESS);\n        SnackbarUtils.info(\"Transaction in Process\");\n        const batch = await tezos.wallet.batch()\n            .withContractCall(vusd_contract.methods.approve(CONTRACT_ADDRESS, value * multiple))\n            .withContractCall(vmm_contract.methods.addMargin(value * multiple))\n\n        SnackbarUtils.info('Sending Txn')\n        const batchOp = await batch.send();\n        SnackbarUtils.info(\"Waiting for confirmation\")\n        await batchOp.confirmation()\n        SnackbarUtils.success(\"Txn Success\")\n\n        return batchOp.opHash\n\n    }\n    catch (err) {\n        console.log(err)\n        SnackbarUtils.error(\"Error Please Try Again\")\n    }\n\n}","import React,{useState} from 'react';\nimport Stack from '@mui/material/Stack';\nimport Button from '@mui/material/Button';\nimport Snackbar from '@mui/material/Snackbar';\nimport Alert from '@mui/material/Alert';\n\n\nexport default function Snackbar1({show,setshow,type}) {\n \n\n  return (\n    <Stack style={{position:\"absolute\"}} spacing={2} sx={{ width: '100%' }}>\n      {type.type==\"success\"?(\n <Snackbar open={show} autoHideDuration={6000} onClose={()=>setshow(false)}>\n <Alert onClose={()=>setshow(false)} severity=\"success\" sx={{ width: '100%' }}>\n {type.message}\n   <a href={`https://ghostnet.tzkt.io/${type.transaction}/`} target=\"_blank\" rel=\"noopener noreferrer\" style={{color:\"blue\",textDecoration:\"underline\",marginLeft:\"10px\"}}> {type.transaction}</a>\n </Alert>\n</Snackbar>\n      ):(\n<Snackbar open={show} autoHideDuration={6000} onClose={()=>setshow(false)}>\n        <Alert onClose={()=>setshow(false)} severity=\"error\" sx={{ width: '100%' }}>\n        {type.message}\n          <a href={`https://ghostnet.tzkt.io/${type.transaction}/`}  target=\"_blank\" rel=\"noopener noreferrer\" style={{color:\"blue\",textDecoration:\"underline\",marginLeft:\"10px\"}}> {type.transaction}</a>\n        </Alert>\n      </Snackbar>\n      )}\n       \n      \n    \n    </Stack>\n  );\n}\n","import React, { useEffect, useState, useContext } from 'react'\nimport { ProgressBar, Modal } from 'react-bootstrap';\nimport Button from '@mui/material/Button';\nimport Snackbar from './Snackbar'\nimport '../style/tradeModel.css'\nimport { Slider } from '@mui/material';\nimport UserContext from \"../ContextProvider.js\";\nimport { ScaleLoader } from 'react-spinners'\nimport { PRECISION } from '../utils/config';\n\nimport { addMargin, closePosition, decreasePosition, openPosition, removeMargin } from '../utils/tezos';\n\n\nexport default function Position({ positiondetail, graph, gethistory, Vmm }) {\n\n    const { setCPosiitonUpdated, CPosiitonUpdated,kusdTokenBalance } = useContext(UserContext)\n    const [isTxn, setIsTxn] = useState(false);\n    const [Addshow, setAddShow] = useState(false);\n    const [Closeshow, setCloseShow] = useState(false);\n    const [increaseshow, setIncreaseshow] = useState(false);\n    const [decreaseshow, setDecreaseshow] = useState(false);\n    const [closePostion, setClosePosition] = useState(false)\n    const [rangeValue, setRangeValue] = useState(1)\n    const [baseXrange, setbaseXrange] = useState(0);\n    const [baseValue, setBaseValue] = useState(0)\n    const [AddorRemove, setAddorRemove] = useState(0)\n    const [marginRatio, setmarginRatio] = useState(0)\n    const [phbar, setPhbar] = useState(0)\n    const [priceImpact, setPriceImpact] = useState(0)\n    const [expectedClose, setExpectedClose] = useState(0)\n    const [snackbarshow, setSnackbarshow] = useState(false)\n    const [calculatedX, setCalculatedX] = useState(0);\n    const [type, setType] = useState(\n        {\n            type: \"\",\n            message: \"\",\n            transaction: \"\"\n        }\n    )\n\n    useEffect(() => {\n        calculateExpectedPrice()\n\n        let marratio = 0;\n        if(positiondetail.position == 1){\n            marratio = (positiondetail.collateral_amount / PRECISION)+(calculatedX - positiondetail.vUSD_amount / PRECISION)\n            \n        }\n        else{\n            marratio= (positiondetail.collateral_amount / PRECISION)+( positiondetail.vUSD_amount / PRECISION - calculatedX)\n        }\n\n\n        setmarginRatio((parseFloat(marratio) / (parseFloat(positiondetail.vUSD_amount) / PRECISION)).toFixed(3))\n        setPhbar(marginRatio * 100)\n\n    }, [phbar, marginRatio, positiondetail, graph])\n\n\n\n    const calculateExpectedPrice = () => {\n        if (positiondetail.position == 2) {\n            let perUsd = Vmm.vUSD_amount / Vmm.token_amount\n            let VmmToken = Vmm.token_amount - (positiondetail.position_value / PRECISION);\n            let x = (Vmm.invariant / VmmToken) - Vmm.vUSD_amount\n            setCalculatedX(x)\n            let actualToken = x / (positiondetail.position_value / PRECISION)\n            let priceimpact = ((actualToken - perUsd) * 100) / perUsd\n            setExpectedClose(graph.marketprice - (priceimpact / 100))\n\n        }\n        if (positiondetail.position == 1) {\n            let pertoken = Vmm.token_amount / Vmm.vUSD_amount\n            let Vmmtoken = Vmm.token_amount + (positiondetail.position_value / PRECISION);\n            let x = Vmm.vUSD_amount - (Vmm.invariant / Vmmtoken)\n            setCalculatedX(x)\n            let actualToken = (positiondetail.position_value / PRECISION) / x\n            let priceimpact = ((actualToken - pertoken) * 100) / pertoken\n            setExpectedClose(graph.marketprice - (priceimpact / 100))\n        }\n    }\n\n    const setOpenlongpriceImpact = () => {\n\n        let perUsd = Vmm.vUSD_amount / Vmm.token_amount\n        let VmmUsd = Vmm.vUSD_amount + (baseXrange);\n        let x = (Vmm.invariant / VmmUsd) - Vmm.token_amount\n        let actualToken = (baseXrange) / Math.abs(x)\n        let priceimpact = ((actualToken - perUsd) * 100) / perUsd\n        setPriceImpact(priceimpact)\n    }\n    const setOpenshortpriceImpact = () => {\n        let pertoken = Vmm.token_amount / Vmm.vUSD_amount\n        let Vmmtoken = Vmm.vUSD_amount - (baseXrange);\n        let x = (Vmm.invariant / Vmmtoken) - Vmm.token_amount\n        let actualToken = Math.abs(x) / (baseXrange)\n        let priceimpact = ((actualToken - pertoken) * 100) / pertoken\n        setPriceImpact(priceimpact)\n    }\n\n\n\n    useEffect(() => {\n        setbaseXrange(baseValue * rangeValue)\n        if (increaseshow) {\n\n            setOpenlongpriceImpact()\n        }\n        if (decreaseshow) {\n            setOpenshortpriceImpact()\n        }\n    }, [baseValue, rangeValue, baseXrange])\n\n    const MarginOnChange = (e) => {\n        setAddorRemove(e)\n    }\n\n    const IncreaseOrDecreaseFunc = async (baseValue, rangeValue, direction) => {\n\n            try {\n                setIsTxn(true)\n                await openPosition(baseValue, rangeValue, direction).then(res => {\n                    console.log(\"response::: \" + res)\n                    gethistory()\n                    setIncreaseshow(false)\n                    setIsTxn(false)\n                    if (res == undefined) {\n                        setType(\n                            {\n                                type: \"Failed\",\n                                message: \"Transaction Aborted !\",\n                            }\n                        )\n                        setSnackbarshow(true)\n                    } else {\n                        setType(\n                            {\n                                type: \"success\",\n                                message: \"Transaction Successful!\",\n                                transaction: res\n                            }\n                        )\n                        setSnackbarshow(true)\n                        setCPosiitonUpdated(true)\n                    }\n\n                }).catch(err => {\n                    setType(\n                        {\n                            type: \"Failed\",\n                            message: \"Transaction Failed !\",\n                        }\n                    )\n                    setSnackbarshow(true)\n                })\n\n            }\n            catch (err) {\n                console.log(err)\n                setIsTxn(false)\n\n            }\n        \n    \n\n    \n\n\n    }\n    const addBaseValue = async (value) => {\n        var amount = (kusdTokenBalance / 100) * value\n        setBaseValue(amount)\n    }\n\n    return (\n        <>\n            <Snackbar show={snackbarshow} setshow={setSnackbarshow} type={type} />\n            <section className='tradePostion'>\n                <div className='positon_Health'>\n                    <h3>Position Health</h3>\n                    {phbar > 30 ? <div><ProgressBar now={phbar} /></div> : (\n                        <div><ProgressBar className='phWeak' now={phbar} /></div>\n                    )}\n\n                    <div className='figure_values'>\n                        <div className='tpfigures'>\n                            <p>Margin</p>\n                            <p>Margin Ratio</p>\n                            {/* <p>Liquidation Price</p> */}\n                        </div>\n                        <div className='tpValues'>\n                            <p>\n                                {\n                                      positiondetail.position == 1?(((positiondetail.collateral_amount / PRECISION)+(calculatedX - positiondetail.vUSD_amount / PRECISION) ).toFixed(4) ):(\n                                        ((positiondetail.collateral_amount / PRECISION)+( positiondetail.vUSD_amount / PRECISION - calculatedX)).toFixed(4) \n                                      )\n                                }\n                                kUSD</p>\n                            <p>{marginRatio}</p>\n                            {/* <p>{((positiondetail.collateral_amount/1000000).toFixed(2)/100)*8.5} kUSD</p> */}\n                        </div>\n                    </div>\n                    <Button className=\"tphAdd\" onClick={() => setAddShow(true)} >+ ADD</Button>\n                    <Button className=\"tphDec\" onClick={() => setCloseShow(true)}>- Reduce</Button>\n                </div>\n                <div className='positon_Status'>\n                    <h3>Position Status</h3>\n                    <div>\n                        <div className='tpstatus'>\n                            <p >{positiondetail.position == 1 ? \"Long position\" : \"Short Position\"}  </p>\n                            <p>{(positiondetail.position_value / PRECISION).toFixed(4)} XTZ</p>\n                            <p style={{ fontWeight: \"bold\" }}  className=\"tpstatus_mobileview\">Unrealized PNL</p>\n                            <p className=\"tpstatus_mobileview_item\">\n                                {   \n                                \n                                    positiondetail.position == 1?(\n                                        (calculatedX - positiondetail.vUSD_amount / PRECISION) < 0 ? (\n                                            <span style={{ color: \"#E01B3C\", fontWeight: \"bold\" }}>\n                                                {(calculatedX - positiondetail.vUSD_amount / PRECISION).toFixed(4)} kUSD </span>\n                                        ) : (\n                                            <span style={{ color: \"#1ECC89\", fontWeight: \"bold\" }}> {(calculatedX - positiondetail.vUSD_amount / PRECISION).toFixed(4)} kUSD</span>\n                                        )\n                                    ):(\n                                        ( positiondetail.vUSD_amount / PRECISION-calculatedX) < 0 ? (\n                                            <span style={{ color: \"#E01B3C\", fontWeight: \"bold\" }}>\n                                                {( positiondetail.vUSD_amount / PRECISION - calculatedX ).toFixed(4)} kUSD </span>\n                                        ) : (\n                                            <span style={{ color: \"#1ECC89\", fontWeight: \"bold\" }}> {( positiondetail.vUSD_amount / PRECISION-calculatedX ).toFixed(4)} kUSD</span>\n                                        )\n                                    )\n                                }\n                            \n                                \n                            </p>\n                            <Button onClick={() => setClosePosition(true)}>Close Position</Button>\n                        </div>\n                        <div className='tps_figures_values' >\n                            <div>\n                                <div className='tpsfigure'>\n                                    <p>Entry Price</p>\n                                    <p>Market Price</p>\n                                    <p>Expected Close Price</p>\n                                    <p>Net Funding</p>\n                                </div>\n                                <div className='tpsValues'>\n                                    <p>{(parseFloat(positiondetail.entry_price) / PRECISION).toFixed(4)} XTZ</p>\n                                    <p>{graph.marketprice} XTZ</p>\n                                    <p>{expectedClose.toFixed(4)}  XTZ</p>\n                                    {\n                                        positiondetail.funding_amount < 0 ? (\n                                            <p style={{ color: \"#E01B3C\" }}>{(positiondetail.funding_amount / PRECISION).toFixed(4)}</p>\n\n                                        ) : (\n                                            <p style={{ color: \"#1ECC89\" }}>{(positiondetail.funding_amount / PRECISION).toFixed(4)}</p>\n\n\n                                        )\n                                    }\n                                </div>\n                            </div>\n                            <Button className='tphAdd' style={{ fontSize: \"14px\" }} onClick={() => setIncreaseshow(true)}>+ INCREASE</Button>\n                            <Button className='tphDec' style={{ fontSize: \"14px\" }} onClick={() => setDecreaseshow(true)}>-DECREASE</Button>\n                        </div>\n\n                    </div>\n\n                </div>\n            </section>\n\n            <Modal\n                centered\n                show={Addshow}\n                onHide={setAddShow}\n                backdrop=\"static\"\n                keyboard={false}\n\n            >\n                <Modal.Header style={{ border: \"none\" }} closeButton>\n                    <Modal.Title style={{ fontWeight: \"bold\" }} >Add Margin</Modal.Title>\n                    <Button style={{ background: \"none\", border: \"none\" }}><img style={{ height: \"25px\" }} onClick={() => {\n                        setAddShow(false)\n                        setIsTxn(false)\n                    }\n                    } src='/img/icons8-close-30.png' /></Button>\n                </Modal.Header>\n                <Modal.Body>\n                    <span style={{ position: \"absolute\", marginTop: \"7px\", marginLeft: \"15px\" }}><img style={{ height: \"25px\" }} src='/img/kusd.png' /></span>\n                    <input value={AddorRemove} onChange={(event) => MarginOnChange(event.target.value)} style={{ width: \"100%\", height: \"40px\", borderRadius: \"5px\", margin: \"2px 0px\", background: \"#30313d\", border: \"none\", textAlign: \"right\", padding: \"0 10px\" }} placeholder='Amount' />\n\n                    {/* <div className='marginbodydiv' style={{ borderBottom: \"0.5px solid #30313d\", fontWeight: \"bold\" }}>\n                        <p>Liquidation price</p>\n                        <p>{((positiondetail.collateral_amount/1000000).toFixed(2)/100)*8.5} kUSD</p>\n                    </div> */}\n                    <div className='marginbodydiv' style={{ marginTop: \"10px\" }}>\n                        <p>Position margin</p>\n                        <p>{(parseFloat((positiondetail.collateral_amount / PRECISION).toFixed(4)) + parseFloat(AddorRemove)).toFixed(3)} kUSD</p>\n                    </div>\n                </Modal.Body>\n                <Modal.Footer style={{ border: \"none\" }} >\n                    {isTxn ? (<span style={{ width: \"100% !important\", position: \"relative\", left: \"-35%\" }}><ScaleLoader color='#1ECC89' width={7} margin={6} /> </span>) : (\n                        <Button variant=\"secondary\" onClick={async () => {\n                            try {\n                                setIsTxn(true)\n                                await addMargin(AddorRemove).then(res => {\n                                    gethistory()\n                                    setIsTxn(false)\n                                    if (res == undefined) {\n                                        setType(\n                                            {\n                                                type: \"Failed\",\n                                                message: \"Transaction Aborted !\",\n                                            }\n                                        )\n                                        setSnackbarshow(true)\n                                    } else {\n                                        setType(\n                                            {\n                                                type: \"success\",\n                                                message: \"Transaction Successful!,\",\n                                                transaction: res\n                                            }\n                                        )\n                                        setSnackbarshow(true)\n                                    }\n                                }).catch(res =>{\n                                    setType(\n                                        {\n                                            type: \"failed\",\n                                            message: \"Transaction failed!\",\n                                            // transaction: res\n                                        }\n                                    )\n                                    setSnackbarshow(true)\n                                })\n\n                            }\n                            catch (err) {\n                                console.log(err)\n                                setIsTxn(false)\n                                setType(\n                                    {\n                                        type: \"failed\",\n                                        message: \"Transaction failed!\",\n                                        // transaction: res\n                                    }\n                                )\n                                setSnackbarshow(true)\n                            }\n\n                        }}\n                            style={{ minWidth: \"98%\", background: \"#1ECC89\" }}\n                        >\n                            ADD\n                        </Button>\n                    )}\n                </Modal.Footer>\n            </Modal>\n\n\n\n            <Modal\n                centered\n                show={Closeshow}\n                onHide={() => setCloseShow(false)}\n                backdrop=\"static\"\n                keyboard={false}\n\n            >\n                <Modal.Header style={{ border: \"none\" }} closeButton>\n                    <Modal.Title style={{ fontWeight: \"bold\" }} >Reduce Margin</Modal.Title>\n                    <Button style={{ background: \"none\", border: \"none\" }}><img style={{ height: \"25px\" }} onClick={() => {\n                        setCloseShow(false)\n\n                        setIsTxn(false)\n                    }} src='/img/icons8-close-30.png' /></Button>\n\n                </Modal.Header>\n                <Modal.Body>\n\n                    <span style={{ position: \"absolute\", marginTop: \"7px\", marginLeft: \"15px\" }}><img style={{ height: \"25px\" }} src='/img/kusd.png' /></span>\n                    <input value={AddorRemove} type=\"number\" min=\"0\" max=\"100000000\" onChange={(event) => MarginOnChange(event.target.value)} style={{ width: \"100%\", height: \"40px\", borderRadius: \"5px\", margin: \"2px 0px\", background: \"#30313d\", border: \"none\", textAlign: \"right\", padding: \"0 10px\" }} placeholder='Amount' />\n\n                    {/* <div className='marginbodydiv' style={{ borderBottom: \"0.5px solid #30313d\", fontWeight: \"bold\" }}>\n                        <p>Liquidation price</p>\n                        <p>{((positiondetail.collateral_amount/1000000).toFixed(2)/100)*8.5} kUSD</p>\n                    </div> */}\n                    <div className='marginbodydiv' style={{ marginTop: \"10px\" }}>\n                        <p>Position margin</p>\n                        <p>{(parseFloat((positiondetail.collateral_amount / PRECISION).toFixed(4)) - parseFloat(AddorRemove)).toFixed(4)} kUSD</p>\n                    </div>\n                </Modal.Body>\n                <Modal.Footer style={{ border: \"none\" }} >\n                    {isTxn ? (<span style={{ width: \"100% !important\", position: \"relative\", left: \"-35%\" }}><ScaleLoader color='#E01B3C' width={7} margin={6} /> </span>) : (\n                        <Button variant=\"secondary\" onClick={async () => {\n                            try {\n                                setIsTxn(true)\n                                await removeMargin(parseInt(AddorRemove)).then(res => {\n                                    gethistory()\n                                    setIsTxn(false)\n\n                                    if (res == undefined) {\n                                        setType(\n                                            {\n                                                type: \"Failed\",\n                                                message: \"Transaction Aborted !\",\n                                            }\n                                        )\n                                        setSnackbarshow(true)\n                                    } else {\n                                        setType(\n                                            {\n                                                type: \"success\",\n                                                message: \"Transaction Successful!,\",\n                                                transaction: res\n                                            }\n                                        )\n                                        setSnackbarshow(true)\n                                    }\n                                }).catch(err =>{\n                                    setType(\n                                        {\n                                            type: \"failed\",\n                                            message: \"Transaction failed!\",\n                                            // transaction: res\n                                        }\n                                    )\n                                    setSnackbarshow(true)\n                                })\n                            }\n                            catch (err) {\n                                console.log(err)\n                                setIsTxn(false)\n                                setType(\n                                    {\n                                        type: \"failed\",\n                                        message: \"Transaction failed!\",\n                                    }\n                                )\n                                setSnackbarshow(true)\n                            }\n                        }}\n                            style={{ minWidth: \"98%\", background: \"#e01b3c\" }}\n                        >\n                            Reduce\n                        </Button>\n                    )}\n                </Modal.Footer>\n            </Modal>\n\n\n            {/* ----------------------------CLose Position Modal ------------------------------------------------------- */}\n\n            <Modal\n                centered\n                show={closePostion}\n                onHide={closePostion}\n                backdrop=\"static\"\n                keyboard={false}\n\n            >\n                <Modal.Header style={{ border: \"none\" }} closeButton>\n                    <Modal.Title style={{ fontWeight: \"bold\" }} >Close Position</Modal.Title>\n                    <Button style={{ background: \"none\", border: \"none\" }}><img style={{ height: \"25px\" }} onClick={() => {\n                        setClosePosition(false)\n                        setIsTxn(false)\n                    }} src='/img/icons8-close-30.png' /></Button>\n                </Modal.Header>\n                <Modal.Body>\n                    <p style={{ fontSize: \"14px\", color: \"#96979c\" }}>Are you sure you want to close the position?</p>\n\n                    <div className='marginbodydiv' style={{ borderBottom: \"0.5px solid #30313d\", fontWeight: \"bold\" }}>\n                        <p style={{ flexBasis: \"55%\" }}>Expected Close Price</p>\n                        <p>{expectedClose.toFixed(4)}</p>\n                    </div>\n                    <div className='marginbodydiv' style={{ marginTop: \"10px\", fontWeight: \"bold\" }}>\n                        <p>Your Profit</p>\n                        <p>\n                        {   \n                                \n                                positiondetail.position == 1?(\n                                    ((calculatedX - (positiondetail.vUSD_amount / PRECISION))+(positiondetail.funding_amount/PRECISION)) < 0 ? (\n                                        <span style={{ color: \"#E01B3C\", fontWeight: \"bold\" }}>\n                                            {((calculatedX - (positiondetail.vUSD_amount / PRECISION))+positiondetail.funding_amount/PRECISION).toFixed(4)} kUSD </span>\n                                    ) : (\n                                        <span style={{ color: \"#1ECC89\", fontWeight: \"bold\" }}> {((calculatedX - positiondetail.vUSD_amount / PRECISION) +positiondetail.funding_amount/PRECISION).toFixed(4)} kUSD</span>\n                                    )\n                                ):(\n                                    (((positiondetail.vUSD_amount / PRECISION)-calculatedX)+positiondetail.funding_amount/PRECISION) < 0 ? (\n                                        <span style={{ color: \"#E01B3C\", fontWeight: \"bold\" }}>\n                                            {( ((positiondetail.vUSD_amount / PRECISION)- calculatedX) +positiondetail.funding_amount/PRECISION ).toFixed(4)} kUSD </span>\n                                    ) : (\n                                        <span style={{ color: \"#1ECC89\", fontWeight: \"bold\" }}> {( (positiondetail.vUSD_amount / PRECISION-calculatedX )+positiondetail.funding_amount/PRECISION  ).toFixed(4)} kUSD</span>\n                                    )\n                                )\n                            }\n                        </p>\n                    </div>\n                </Modal.Body>\n                <Modal.Footer style={{ border: \"none\", display: \"flex\", width: \"100%\", justifyContent: \"center\" }} >\n\n                    {isTxn ? (<span style={{ width: \"100% !important\", position: \"relative\", left: \"0%\" }}><ScaleLoader color='#1ECC89' width={7} margin={6} /> </span>) : (\n                        <>\n                            <Button variant=\"secondary\"\n                                onClick={\n                                    async () => {\n                                        try {\n                                            setIsTxn(true);\n                                            await closePosition().then(res => {\n                                                if (res == \"success\") {\n                                                    setIsTxn(false);\n                                                    setClosePosition(false)\n                                                    setCPosiitonUpdated(CPosiitonUpdated ? true : false)\n\n                                                }\n                                            }).catch((err) => {\n                                                console.log(err)\n                                                // SnackbarUtils.error(\"Error Please Try Again\")\n                                                setIsTxn(false);\n                                                setClosePosition(false)\n                                                setType(\n                                                    {\n                                                        type: \"success\",\n                                                        message: \"Transaction Successful!,\",\n                                                        // transaction: res\n                                                    }\n                                                )\n                                                setSnackbarshow(true)\n                                            });\n\n                                        }\n                                        catch (err) {\n                                            setIsTxn(false);\n                                        }\n\n                                    }\n                                }\n                                style={{ minWidth: \"42%\", marginRight: \"10px\", background: \"#1ECC89\", fontWeight: \"bold\" }}\n                            >\n                                Yes\n                            </Button>\n                            <Button variant=\"secondary\" onClick={() => setClosePosition(false)}\n                                style={{ minWidth: \"42%\", background: \"#e01b3c\", fontWeight: \"bold\" }}\n                            >\n                                No\n                            </Button>\n                        </>\n                    )\n                    }\n                </Modal.Footer>\n            </Modal>\n\n\n\n\n\n\n\n\n\n\n\n\n\n            {/*----------------------------------- increase decrease  -------------------------------------- */}\n            <Modal\n                show={increaseshow}\n                open={true}\n                aria-labelledby=\"modal-modal-title\"\n                aria-describedby=\"modal-modal-description\"\n            >\n                <Modal.Header style={{ border: \"none\", position: \"relative\", left: \"10px\" }} closeButton>\n                    <Modal.Title style={{ fontWeight: \"bold\" }} >Increase Position</Modal.Title>\n                    <Button style={{ background: \"none\", border: \"none\" }}><img style={{ height: \"25px\" }} onClick={() => {\n                        setIncreaseshow(false)\n                        setIsTxn(false)\n                    }} src='/img/icons8-close-30.png' /></Button>\n\n                </Modal.Header>\n                <Modal.Body style={{ position: \"relative\", left: \"10px\" }}>\n                    <div className='tradebox_amount'>\n                        <span className='tradebox_inputicon'><img style={{ padding: \"0 6px\", marginTop: \"-4px\", height: \"32px\" }} src=\"img/kusd.png\" alt=\"\" />kUSD</span>\n                        <input value={baseValue} style={{ fontFamily: \"'Inter', sans-serif\" }} type=\"number\" min=\"0\" max=\"100000000\" step=\"0.01\" className=\"tradebox\" id=\"outlined-basic\" placeholder=\"Amount\" variant=\"outlined\"  onChange={(event) => setBaseValue(event.target.value, setOpenlongpriceImpact())} />\n                        <div style={{ width: \"100%\",position:\"relative\", fontSize: \"11px\", height: \"10px\", fontWeight: \"bold\", margin: \"2px 0\", padding: \"2px 0\", color: \"#a9a9a9\" }}>\n\t\t\t\t\t\t\t<div style={{ position: \"absolute\", right: \"10px\" }}>\n\t\t\t\t\t\t\t\t<button type='button' className='amount_percent_btn' onClick={() => { addBaseValue(25) }} >25%</button>\n\t\t\t\t\t\t\t\t<button type='button' className='amount_percent_btn' onClick={() => { addBaseValue(50) }} >50%</button>\n\t\t\t\t\t\t\t\t<button type='button' className='amount_percent_btn' onClick={() => { addBaseValue(75) }} >75%</button>\n\t\t\t\t\t\t\t\t<button type='button' className='amount_percent_btn' onClick={() => { addBaseValue(100) }} >100%</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n                    </div>\n                    <div style={{marginTop: \"10px\"}} className='tradebox_leverage'>\n                        <h6>Leverage</h6>\n                        <Slider\n                            aria-label=\"Temperature\"\n                            defaultValue={1}\n                            className=\"tradebox_levslider\"\n                            value={rangeValue}\n                            onChange={(event) => setRangeValue(event.target.value)}\n                            color={'primary'}\n                            sx={{ color: `grey` }}\n                            step={1}\n                            marks\n                            min={1}\n                            max={3}\n                            style={{ width: '90%' }} /> <span style={{ position: \"absolute\", bottom: \"6px\", fontSize: \"14px\", right: \"25px\", fontWeight: \"bold\" }}>{rangeValue}x</span> <br />\n                    </div>\n                    <p style={{ fontFamily: \"'Inter', sans-serif\", fontSize: \"13px\", fontWeight: \"600\", marginTop: \"20px\", marginLeft: \"-8px\" }}>You are buying in the long</p>\n                    <table className='tradebox_table1' style={{ width: \"100%\" }}>\n                        <tbody>\n                            <tr style={{ width: \"100%\" }}>\n                                <td style={{ width: \"40%\", fontFamily: \"'Inter', sans-serif\", color: \"#797979\", fontWeight: \"600\" }}>Position size</td>\n                                <td style={{ width: \"60%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{baseXrange == 0 ? ((baseValue == null) ? 0 : (baseValue / graph.marketprice).toFixed(4)) : ((baseXrange / graph.marketprice).toFixed(4))} XTZ <img src=\"img/tz.svg\" /></td>\n                            </tr>\n                            <tr style={{ width: \"100%\" }}>\n                                <td style={{ width: \"40%\", fontFamily: \"'Inter', sans-serif\", color: \"#797979\", fontWeight: \"600\" }}>Entry price</td>\n                                <td style={{ width: \"60%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{graph.marketprice} kUSD <img style={{ width: \"20px\" }} src=\"img/kusd.png\" /></td>\n                            </tr>\n                        </tbody>\n                    </table>\n                    <hr style={{ position: \"relative\", left: \"-10px\", width: \"100%\", top: \"20px\" }} />\n\n\n                    <table className='tradebox_table1' style={{ width: \"100%\" }}>\n                        <tbody>\n                            <tr style={{ width: \"100%\", }}>\n                                <td style={{ width: \"40%\", fontFamily: \"'Inter', sans-serif\", fontWeight: \"600\", color: \"#C0C0C0\" }}>Amount</td>\n                                <td style={{ width: \"60%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{baseValue} kUSD</td>\n                            </tr>\n                            <tr style={{ width: \"100%\" }}>\n                                <td style={{ width: \"70%\", fontFamily: \"'Inter', sans-serif\", fontWeight: \"600\", color: \"#C0C0C0\" }}>Trading Fee</td>\n                                <td style={{ width: \"30%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{(baseValue / 100) * 2} kUSD</td>\n                            </tr>\n                            <tr style={{ width: \"100%\" }}>\n                                <td style={{ width: \"40%\", fontFamily: \"'Inter', sans-serif\", fontWeight: \"600\", color: \"#C0C0C0\" }}>Price impact</td>\n                                <td style={{ width: \"60%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{baseValue == 0 ? 0 : priceImpact.toFixed(4)}%</td>\n                            </tr>\n                            <tr style={{ width: \"100%\" }}>\n                                <td style={{ width: \"70%\", fontFamily: \"'Inter', sans-serif\", fontWeight: \"600\", color: \"#C0C0C0\" }}>Slippage tolerance</td>\n                                <td style={{ width: \"30%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>2%</td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </Modal.Body>\n                <Modal.Footer style={{ border: \"none\" }} >\n                    {isTxn ? (<span style={{ width: \"100% !important\", position: \"relative\", left: \"-35%\" }}><ScaleLoader color='#1ECC89' width={7} margin={6} /> </span>) : (\n                        <Button variant=\"secondary\"\n                            style={{ minWidth: \"98%\", background: \"#1ECC89\", fontWeight: \"bold\" }}\n                            onClick={() => IncreaseOrDecreaseFunc(baseValue, rangeValue, positiondetail.position)}\n\n                        >\n                            INCREASE\n                        </Button>\n                    )}\n                </Modal.Footer>\n            </Modal>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n            <Modal\n                show={decreaseshow}\n                open={true}\n                aria-labelledby=\"modal-modal-title\"\n                aria-describedby=\"modal-modal-description\"\n            >\n                <Modal.Header style={{ border: \"none\", position: \"relative\", left: \"10px\" }} closeButton>\n                    <Modal.Title style={{ fontWeight: \"bold\" }} >Decrease Position</Modal.Title>\n                    <Button style={{ background: \"none\", border: \"none\" }}><img style={{ height: \"25px\" }} onClick={() => {\n                        setDecreaseshow(false)\n                        setIsTxn(false)\n                    }} src='/img/icons8-close-30.png' /></Button>\n\n                </Modal.Header>\n                <Modal.Body style={{ position: \"relative\", left: \"10px\" }}>\n                    <div className='tradebox_amount'>\n                        <span className='tradebox_inputicon'><img style={{ padding: \"0 6px\", marginTop: \"-4px\", height: \"32px\" }} src=\"img/kusd.png\" alt=\"\" />kUSD</span>\n                        <input value={baseValue} style={{ fontFamily: \"'Inter', sans-serif\" }} type=\"number\" min=\"0\" max=\"100000000\" step=\"0.01\" className=\"tradebox\" id=\"outlined-basic\" placeholder=\"Amount\" variant=\"outlined\"  onChange={(event) => setBaseValue(event.target.value, setOpenlongpriceImpact())} />\n                        <div style={{ width: \"100%\",position:\"relative\", fontSize: \"11px\", height: \"10px\", fontWeight: \"bold\", margin: \"2px 0\", padding: \"2px 0\", color: \"#a9a9a9\" }}>\n\t\t\t\t\t\t\t<div style={{ position: \"absolute\", right: \"10px\" }}>\n\t\t\t\t\t\t\t\t<button type='button' className='amount_percent_btn' onClick={() => { addBaseValue(25) }} >25%</button>\n\t\t\t\t\t\t\t\t<button type='button' className='amount_percent_btn' onClick={() => { addBaseValue(50) }} >50%</button>\n\t\t\t\t\t\t\t\t<button type='button' className='amount_percent_btn' onClick={() => { addBaseValue(75) }} >75%</button>\n\t\t\t\t\t\t\t\t<button type='button' className='amount_percent_btn' onClick={() => { addBaseValue(100) }} >100%</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n                    </div>\n                    <div style={{marginTop: \"10px\"}} className='tradebox_leverage'>\n                        <h6>Leverage</h6>\n                        <Slider\n                            aria-label=\"Temperature\"\n                            defaultValue={1}\n                            className=\"tradebox_levslider\"\n                            value={rangeValue}\n                            onChange={(event) => setRangeValue(event.target.value)}\n                            color={'primary'}\n                            sx={{ color: `grey` }}\n                            step={1}\n                            marks\n                            min={1}\n                            max={3}\n                            style={{ width: '90%' }} /> <span style={{ position: \"absolute\", bottom: \"6px\", fontSize: \"14px\", right: \"25px\", fontWeight: \"bold\" }}>{rangeValue}x</span> <br />\n                    </div>\n                    <p style={{ fontFamily: \"'Inter', sans-serif\", fontSize: \"13px\", fontWeight: \"600\", marginTop: \"20px\", marginLeft: \"-8px\" }}>You are buying in the long</p>\n                    <table className='tradebox_table1' style={{ width: \"100%\" }}>\n                        <tbody>\n                            <tr style={{ width: \"100%\" }}>\n                                <td style={{ width: \"40%\", fontFamily: \"'Inter', sans-serif\", color: \"#797979\", fontWeight: \"600\" }}>Position size</td>\n                                <td style={{ width: \"60%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{baseXrange == 0 ? ((baseValue == null) ? 0 : (baseValue / graph.marketprice).toFixed(2)) : ((baseXrange / graph.marketprice).toFixed(4))} XTZ <img src=\"img/tz.svg\" /></td>\n                            </tr>\n                            <tr style={{ width: \"100%\" }}>\n                                <td style={{ width: \"40%\", fontFamily: \"'Inter', sans-serif\", color: \"#797979\", fontWeight: \"600\" }}>Entry price</td>\n                                <td style={{ width: \"60%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{graph.marketprice} vUSD <img style={{ width: \"20px\" }} src=\"img/kusd.png\" /></td>\n                            </tr>\n                        </tbody>\n                    </table>\n                    <hr style={{ position: \"relative\", left: \"-10px\", width: \"100%\", top: \"20px\" }} />\n\n\n                    <table className='tradebox_table1' style={{ width: \"100%\" }}>\n                        <tbody>\n                            <tr style={{ width: \"100%\", }}>\n                                <td style={{ width: \"40%\", fontFamily: \"'Inter', sans-serif\", fontWeight: \"600\", color: \"#C0C0C0\" }}>Amount</td>\n                                <td style={{ width: \"60%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{baseValue} kUSD</td>\n                            </tr>\n                            <tr style={{ width: \"100%\" }}>\n                                <td style={{ width: \"40%\", fontFamily: \"'Inter', sans-serif\", fontWeight: \"600\", color: \"#C0C0C0\" }}>Trading Fee</td>\n                                <td style={{ width: \"60%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{(baseValue / 100) * 2} kUSD</td>\n                            </tr>\n                            <tr style={{ width: \"100%\" }}>\n                                <td style={{ width: \"40%\", fontFamily: \"'Inter', sans-serif\", fontWeight: \"600\", color: \"#C0C0C0\" }}>Price impact</td>\n                                <td style={{ width: \"60%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{baseValue == 0 ? 0 : priceImpact.toFixed(2)}%</td>\n                            </tr>\n                            <tr style={{ width: \"100%\" }}>\n                                <td style={{ width: \"70%\", fontFamily: \"'Inter', sans-serif\", fontWeight: \"600\", color: \"#C0C0C0\" }}>Slippage tolerance</td>\n                                <td style={{ width: \"30%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>2%</td>\n                            </tr>\n                        </tbody>\n\n                    </table>\n                </Modal.Body>\n                <Modal.Footer style={{ border: \"none\" }} >\n                    {isTxn ? (<span style={{ width: \"100% !important\", position: \"relative\", left: \"-35%\" }}><ScaleLoader color='#E01B3C' width={7} margin={6} /> </span>) : (\n                        <Button variant=\"secondary\"\n                            style={{ minWidth: \"98%\", background: \"#e01b3c\", fontWeight: \"bold\" }}\n                            onClick={async() => {\n                                \n                                \n            try {\n                setIsTxn(true)\n                await decreasePosition(rangeValue, baseValue).then(res => {\n                    gethistory()\n                    setDecreaseshow(false)\n                    setIsTxn(false)\n                    if (res == undefined) {\n                        setType(\n                            {\n                                type: \"Failed\",\n                                message: \"Transaction Aborted !\",\n                            }\n                        )\n                        setSnackbarshow(true)\n                    } else {\n                        setType(\n                            {\n                                type: \"success\",\n                                message: \"Transaction Successful!,\",\n                                transaction: res\n                            }\n                        )\n                        setSnackbarshow(true)\n                    }\n                }).catch(err => {\n                    setIsTxn(false)\n\n                    setType(\n                        {\n                            type: \"Failed\",\n                            message: \"Transaction Failed !\",\n                        }\n                    )\n                    setSnackbarshow(true)\n                })\n\n            }\n            catch (err) {\n                console.log(err)\n                setIsTxn(false)\n\n            }\n                            }\n                        }\n                        >\n                            DECREASE\n                        </Button>\n                    )}\n                </Modal.Footer>\n            </Modal>\n\n\n\n        </>\n    )\n}\n// {isTxn ? <span style={{ width: \"100% !important\", position: \"relative\", left: \"35%\" }}><ScaleLoader color='#E01B3C' width={7} margin={6} /></span> :","import React, { useEffect, useState,useContext } from 'react'\nimport { Table } from 'react-bootstrap';\nimport { getAccount } from '../utils/wallet';\nimport axios from 'axios'\nimport qs from \"qs\"\nimport UserContext from '../ContextProvider.js';\nexport default function PositionTable() {\nconst { CPosiitonUpdated ,kusdTokenBalance} = useContext(UserContext)\n\n    const [getData,setGetData] = useState([])\n    const fetchdata =async()=>{\n        const address = await getAccount()\n        const positionhistory = await axios.post(\"https://zenith-api-l8hhy.ondigitalocean.app/positionshistory/\", qs.stringify({\n\t\t\taddress: address\n\t\t}),\n\t\t\t{\n\t\t\t\theader: {\n\t\t\t\t\t\"Content-Type\": \"text/plain\"\n\t\t\t\t}\n\t\t\t}\n\t\t).then(res => {\n\t\t\treturn res.data\n\t\t})\n        if(positionhistory){\n            setGetData(positionhistory)\n            positionhistory.reverse()\n        }else{\n            setGetData([])\n        }\n    }\n    useEffect(()=>{\n     fetchdata()\n    },[CPosiitonUpdated,kusdTokenBalance])\n  return (\n    \n    <Table className='trading_details' borderless=\"false\" responsive>\n    <thead>\n        <tr>\n            <th >TIME</th>\n            <th >DIRECTION</th>\n            <th >COLLATERAL</th>\n            <th>POSITION SIZE</th>\n            <th >REALIZE PNL</th>\n        </tr>\n    </thead>\n    <tbody >\n        \n            \n        \n        {\n            getData.length != 0 ? (\n                getData.map((item, index) => {\n                    \n                    const date = new Date(item.time);\n                    return(\n                        <tr key={index}>\n                        <td>{date.toLocaleString() } </td>\n                        {item.position ==1?(<td style={{color:\"#1ecc89\"}}>Long {item.liquidate == undefined ||!item.liquidate?\"\": <span style={{fontSize:\"0.6rem\" , color:\"white\",background:\"#59219d\",padding:\"3px\",borderRadius:\"5px\"}}>liquidated</span>}</td>):(\n                            <td style={{color:\"#e01b3c\"}}>Short {item.liquidate == undefined ||!item.liquidate?\"\": <span style={{fontSize:\"0.6rem\" , color:\"white\",background:\"#59219d\",padding:\"3px\",borderRadius:\"5px\"}}>liquidated</span>}</td>\n                        )}\n                        <td> {item.collateral_amount}</td>\n                        <td>{item.vUSD_amount} </td>\n                      {item.realizedpnl>0?(\n                            <td style={{color:\"#1ecc89\"}}>{(parseFloat(item.realizedpnl)).toFixed(3)}</td>\n                        ):(\n                            <td style={{color:\"#e01b3c\"}}>{(parseFloat(item.realizedpnl)).toFixed(3)}</td>\n                        )}\n\n                    </tr>\n                    )\n                \n                })\n            ) : (<tr style ={{display:\"flex\",width:\"100%\", justifyContent:\"center\",alignItems:\"center\"}}><td><img style ={{height:\"100px\",width:\"100px\"}} src=\"img/nodata.png\" /></td></tr>)\n\n\n        }\n    </tbody>\n</Table>\n  )\n}\n","import React, { useState, useEffect, useContext } from 'react'\nimport TradeChart from './TradeChart'\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport Modal from '@mui/material/Modal';\nimport { Slider } from '@mui/material';\nimport { openPosition } from '../utils/tezos'\nimport { getAccount } from '../utils/wallet';\nimport axios from 'axios';\nimport \"../style/tradeModel.css\"\nimport SnackbarUtils from '../utils/SnackbarUtils';\nimport { ScaleLoader } from 'react-spinners'\nimport Position from './Position';\nimport PositionTable from './PositionTable';\nimport Snackbar from './Snackbar'\nimport UserContext from \"../ContextProvider.js\";\nimport { PRECISION, CONTRACT_ADDRESS } from '../utils/config';\n\n\nconst style = {\n\tposition: 'absolute',\n\tbackground: \" #141724\",\n\ttop: '50%',\n\tleft: '50%',\n\ttransform: 'translate(-50%, -50%)',\n\tp: 4,\n\t'& > :not(style)': { m: 1, width: '25ch' },\n};\n\nconst Trade = (props) => {\n\tconst { setCPosiitonUpdated, CPosiitonUpdated, setMarketPrice, kusdTokenBalance } = useContext(UserContext)\n\tconst [open, setOpen] = useState(false);\n\tconst handleOpen = () => setOpen(true);\n\tconst handleClose = () => setOpen(false);\n\tconst { coinSelect, setCoinSelect } = props\n\tconst [rangeValue, setRangeValue] = useState(1)\n\tconst [isPosition, setIsPosition] = useState(\"\")\n\tconst [baseValue, setBaseValue] = useState('');\n\tconst [baseXrange, setbaseXrange] = useState(0);\n\tconst [liveposition, setliveposition] = useState({});\n\tconst [isTxn, setIsTxn] = useState(false);\n\tconst [currentPosition, setCurrentPosition] = useState(false)\n\tconst [graphValues, setGraphValues] = useState({\n\t\tmarketprice: 0,\n\t\tindexprice: 0,\n\t\trate: 0,\n\t\tlongfundingrate: 0,\n\t\tshortfundingrate: 0\n\t})\n\tconst [show, setShow] = useState(false)\n\tconst [Vmm, setVmm] = useState(0)\n\tconst [priceImpact, setPriceImpact] = useState(0)\n\tconst [snackbarshow, setSnackbarshow] = useState(false)\n\tconst [type, setType] = useState(\n\t\t{\n\t\t\ttype: \"\",\n\t\t\tmessage: \"\",\n\t\t\ttransaction: \"\"\n\t\t}\n\t)\n\n\n\tconst getHistory = async () => {\n\t\tconst address = await getAccount()\n\n\t\tconst history = await axios.get(`https://api.ghostnet.tzkt.io/v1/contracts/${CONTRACT_ADDRESS}/storage`)\n\t\tlet date = Date.parse(history.data.upcoming_funding_time) - Date.now()\n\t\tvar minutes = Math.floor((date % (1000 * 60 * 60)) / (1000 * 60));\n\t\tvar seconds = Math.floor((date % (1000 * 60)) / 1000);\n\n\t\tif (seconds < 0) {\n\t\t\tminutes = \"00\";\n\t\t\tseconds = \"00\";\n\t\t}\n\t\telse {\n\t\t\tif (minutes < 10) {\n\t\t\t\tminutes = `0${minutes}`\n\t\t\t}\n\t\t\tif (seconds < 10) {\n\t\t\t\tseconds = `0${seconds}`\n\t\t\t}\n\t\t}\n\n\t\tlet Vmmdata = {\n\t\t\tinvariant: history.data.vmm.invariant / PRECISION,\n\t\t\tvUSD_amount: history.data.vmm.vUSD_amount / PRECISION,\n\t\t\ttoken_amount: history.data.vmm.token_amount / PRECISION\n\t\t}\n\t\tsetVmm(Vmmdata)\n\t\tsetMarketPrice((parseFloat(history.data.current_mark_price) / PRECISION).toFixed(4))\n\t\tsetGraphValues({\n\t\t\tmarketprice: (parseFloat(history.data.current_mark_price) / PRECISION).toFixed(4),\n\t\t\tindexprice: (parseFloat(history.data.current_index_price) / PRECISION).toFixed(4),\n\t\t\tfundingTime: `${minutes}:${seconds}`,\n\t\t\trate: 0,\n\t\t\tlongfundingrate: (history.data.long_funding_rate),\n\t\t\tshortfundingrate: (history.data.short_funding_rate)\n\t\t})\n\t\tvar positions = history.data.positions;\n\n\t\tif (address in positions) {\n\n\t\t\tsetCPosiitonUpdated(true)\n\n\t\t\tsetCurrentPosition(true)\n\t\t\tsetliveposition(positions[address])\n\t\t}\n\t\telse {\n\t\t\tsetCPosiitonUpdated(false)\n\t\t\tsetCurrentPosition(false)\n\t\t\tsetliveposition({})\n\t\t}\n\n\n\n\n\t}\n\n\tconst addBaseValue = async (value) => {\n\t\tvar amount = (kusdTokenBalance / 100) * value\n\t\tsetBaseValue(amount)\n\t}\n\n\n\n\tuseEffect(() => {\n\t\tif (graphValues.marketprice == 0) {\n\t\t\tgetHistory()\n\t\t}\n\t\tsetInterval(getHistory, 1000)\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsetbaseXrange(baseValue * rangeValue)\n\t\tif (isPosition == \"long\") {\n\n\t\t\tsetOpenlongpriceImpact()\n\t\t}\n\t\telse {\n\t\t\tsetOpenshortpriceImpact()\n\t\t}\n\t}, [baseValue, rangeValue, baseXrange])\n\n\n\n\n\tconst funOpenPosition = async (baseValue, rangeValue, direction) => {\n\t\tif (baseValue == 0) {\n\t\t\tsetType(\n\t\t\t\t{\n\t\t\t\t\ttype: \"failed\",\n\t\t\t\t\tmessage: \"Amount should be greater than 0!\",\n\t\t\t\t}\n\t\t\t)\n\t\t\tsetSnackbarshow(true)\n\t\t}\n\n\t\ttry {\n\t\t\tsetIsTxn(true)\n\t\t\tawait openPosition(baseValue, rangeValue, direction).then(res => {\n\t\t\t\tsetIsPosition(false)\n\t\t\t\tsetIsTxn(false)\n\t\t\t\tif (res == undefined) {\n\t\t\t\t\tsetType(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: \"Failed\",\n\t\t\t\t\t\t\tmessage: \"Transaction Aborted !\",\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t\tsetSnackbarshow(true)\n\t\t\t\t} else {\n\t\t\t\t\tsetType(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\tmessage: \"Transaction Successful!\",\n\t\t\t\t\t\t\ttransaction: res\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t\tsetSnackbarshow(true)\n\t\t\t\t\tsetCPosiitonUpdated(true)\n\t\t\t\t}\n\t\t\t})\n\n\t\t}\n\t\tcatch (err) {\n\t\t\tconsole.log(err)\n\t\t\tsetIsPosition(false)\n\t\t\tsetShow(false)\n\t\t\tsetIsTxn(false)\n\t\t\tsetType(\n\t\t\t\t{\n\t\t\t\t\ttype: \"Failed\",\n\t\t\t\t\tmessage: \"Transaction Failed !,\",\n\t\t\t\t}\n\t\t\t)\n\t\t\tsetSnackbarshow(true)\n\n\t\t}\n\n\t}\n\n\n\n\tconst setOpenlongpriceImpact = () => {\n\n\t\tlet perUsd = Vmm.vUSD_amount / Vmm.token_amount\n\t\tlet VmmUsd = Vmm.vUSD_amount + (baseXrange);\n\t\tlet x = (Vmm.invariant / VmmUsd) - Vmm.token_amount\n\t\tlet actualToken = (baseXrange) / Math.abs(x)\n\t\tlet priceimpact = ((actualToken - perUsd) * 100) / perUsd\n\t\tsetPriceImpact(priceimpact)\n\t}\n\tconst setOpenshortpriceImpact = () => {\n\t\tlet pertoken = Vmm.token_amount / Vmm.vUSD_amount\n\t\tlet Vmmtoken = Vmm.vUSD_amount - (baseXrange);\n\t\tlet x = (Vmm.invariant / Vmmtoken) - Vmm.token_amount\n\t\tlet actualToken = Math.abs(x) / (baseXrange)\n\t\tlet priceimpact = ((actualToken - pertoken) * 100) / pertoken\n\t\tsetPriceImpact(priceimpact)\n\t}\n\n\n\n\n\treturn (\n\t\t<div>\n\t\t\t<Snackbar show={snackbarshow} setshow={setSnackbarshow} type={type} />\n\t\t\t<link rel=\"stylesheet\" href=\"/styles/trade.css\" />\n\t\t\t<div className=\"coin-name d-flex m-3\">\n\t\t\t\t<div className=\"icon fs-2\"><img style={{ width: \"35px\", height: \"35px\" }} src={`img/${coinSelect === 'tezos' ? 'tz' : coinSelect === 'btc' ? 'btc' : 'eth'}.svg`} alt=\"\" /></div>\n\t\t\t\t<div className=\"coin-name d-flex flex-column ms-2\">\n\t\t\t\t\t<h4 className='mb-0 text-start'>{coinSelect === 'tezos' ? 'XTZ-PERP' : coinSelect === 'btc' ? 'BTC-PERP' : 'ETH-PERP'}</h4>\n\t\t\t\t\t<h6 className='text-start'>{coinSelect === 'tezos' ? 'Tezos' : coinSelect === 'btc' ? 'Bitcoin' : 'Ethereum'}</h6>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t\t<div className=\"trade-graph-enclosure\">\n\t\t\t\t<div className=\"graph-infos d-flex text-start\">\n\t\t\t\t\t<div className=\"graph-info\">\n\t\t\t\t\t\t<div className=\"info-title\">Market Price</div>\n\t\t\t\t\t\t<div className=\"info-values \" style={{ color: \"#1ECC89\" }}>{graphValues.marketprice} kUSD</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"graph-info\">\n\t\t\t\t\t\t<div className=\"info-title\">Index Price</div>\n\t\t\t\t\t\t<div className=\"info-values\">{graphValues.indexprice} kUSD</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"graph-info\">\n\t\t\t\t\t\t<div className=\"info-title\">Next funding</div>\n\t\t\t\t\t\t<div className=\"info-values\"> {graphValues.fundingTime}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"graph-info\">\n\t\t\t\t\t\t<div className=\"info-title\"> Long funding rate</div>\n\n\t\t\t\t\t\t<div className=\"info-values \" style={{ color: `${graphValues.longfundingrate.direction == \"POSITIVE\" && graphValues.longfundingrate.value / PRECISION != 0 ? \"#1ECC89\" : (graphValues.longfundingrate.direction == \"NEGATIVE\" && graphValues.longfundingrate.value / PRECISION != 0) ? \"#E01B3C\" : \"white\"}` }}> {(graphValues.longfundingrate.value / PRECISION).toFixed(3)}% </div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"graph-info\">\n\t\t\t\t\t\t<div className=\"info-title\"> Short funding rate</div>\n\t\t\t\t\t\t<div className=\"info-values\" style={{ color: `${graphValues.shortfundingrate.direction == \"POSITIVE\" ? \"#1ECC89\" : graphValues.shortfundingrate.direction == \"NEGATIVE\" && graphValues.longfundingrate.value / PRECISION != 0 ? \"#E01B3C\" : \"white\"}` }}>{(graphValues.shortfundingrate.value / PRECISION).toFixed(3)}%</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* <div className=\"graph-info\">\n\t\t\t\t\t\t<div className=\"info-title\"> Expected long/short rate</div>\n\t\t\t\t\t\t<div className=\"info-values\" style={{ color: \"#E01B3C\" }}>{graphValues.shortfundingrate}%</div>\n\t\t\t\t\t</div> */}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"long-short-enclosure\">\n\t\t\t\t{\n\t\t\t\t\t!currentPosition ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h5>You can go Long or Short </h5>\n\t\t\t\t\t\t\t<div className=\"long-short-btns mt-4\">\n\t\t\t\t\t\t\t\t<button className={`longbtn  mx-1 btn  `} style={{ color: \"white\", fontWeight: \"bold\", background: \"#1ECC89\" }} onClick={() => {\n\t\t\t\t\t\t\t\t\tsetIsPosition(\"long\")\n\t\t\t\t\t\t\t\t\thandleOpen()\n\t\t\t\t\t\t\t\t}} >Long</button>\n\t\t\t\t\t\t\t\t<button className={`shortbtn mx-1 btn `} style={{ color: \"white\", fontWeight: \"bold\", background: \"#E01B3C\" }} onClick={() => {\n\t\t\t\t\t\t\t\t\tsetIsPosition(\"short\")\n\t\t\t\t\t\t\t\t\thandleOpen()\n\t\t\t\t\t\t\t\t\tSnackbarUtils.info(\"Works\");\n\t\t\t\t\t\t\t\t}} >Short</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (<h5>You have taken a position. Now you can change the margin </h5>)\n\t\t\t\t}\n\n\t\t\t</div>\n\n\t\t\t<div className='trade_chart'>\n\t\t\t\t<TradeChart />\n\n\t\t\t</div>\n\n\t\t\t{\n\t\t\t\t!currentPosition ? \"\" : (\n\t\t\t\t\t<Position positiondetail={liveposition} graph={graphValues} gethistory={getHistory} Vmm={Vmm} />\n\t\t\t\t)\n\t\t\t}\n\n\n\n\n\n\n\n\n\t\t\t<div className=\"history-enclosure text-white\">\n\n\n\t\t\t\t<div style={{ display: \"flex\" }}>\n\t\t\t\t\t<h5 className={`tradedetailsbtn text-start`} style={{ color: \"whitesmoke\" }}>Position History</h5>\n\t\t\t\t</div>\n\n\n\n\t\t\t\t<PositionTable />\n\n\t\t\t</div>\n\n\n\t\t\t{isPosition == \"long\" && !currentPosition ? <Modal\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\taria-labelledby=\"modal-modal-title\"\n\t\t\t\taria-describedby=\"modal-modal-description\"\n\t\t\t>\n\t\t\t\t<Box sx={style} className=\"tradebox_main\" component=\"form\" noValidate autoComplete=\"off\">\n\t\t\t\t\t<Typography id=\"modal-modal-title\" variant=\"h4\" component=\"h2\" style={{ position: \"relative\", left: '-10px', width: '100%', fontFamily: \"'Inter', sans-serif\", fontWeight: \"800\", fontSize: \"25px\" }}>\n\t\t\t\t\t\tLong\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<div className='tradebox_amount'>\n\t\t\t\t\t\t<span className='tradebox_inputicon'><img style={{ padding: \"0 6px\", marginTop: \"-4px\", height: \"32px\" }} src=\"img/kusd.png\" alt=\"\" />kUSD</span>\n\t\t\t\t\t\t<input value={baseValue} style={{ fontFamily: \"'Inter', sans-serif\" }} type=\"number\" min=\"0\" max=\"100000000\" className=\"tradebox\" id=\"outlined-basic\" placeholder=\"Amount\" variant=\"outlined\" onChange={(event) => setBaseValue(event.target.value, setOpenlongpriceImpact())} />\n\t\t\t\t\t\t<div style={{ width: \"100%\", fontSize: \"11px\", height: \"10px\", fontWeight: \"bold\", margin: \"2px 0\", padding: \"2px 0\", color: \"#a9a9a9\" }}>\n\t\t\t\t\t\t\t<div style={{ position: \"absolute\", right: \"10px\" }}>\n\t\t\t\t\t\t\t\t<button type='button' className='amount_percent_btn' onClick={() => { addBaseValue(25) }} >25%</button>\n\t\t\t\t\t\t\t\t<button type='button' className='amount_percent_btn' onClick={() => { addBaseValue(50) }} >50%</button>\n\t\t\t\t\t\t\t\t<button type='button' className='amount_percent_btn' onClick={() => { addBaseValue(75) }} >75%</button>\n\t\t\t\t\t\t\t\t<button type='button' className='amount_percent_btn' onClick={() => { addBaseValue(100) }} >100%</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='tradebox_leverage'>\n\t\t\t\t\t\t<h6>Leverage</h6>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\taria-label=\"Temperature\"\n\t\t\t\t\t\t\tdefaultValue={1}\n\t\t\t\t\t\t\tclassName=\"tradebox_levslider\"\n\t\t\t\t\t\t\tvalue={rangeValue}\n\t\t\t\t\t\t\tonChange={(event) => setRangeValue(event.target.value)}\n\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\tsx={{ color: `grey` }}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\tmarks\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={3}\n\t\t\t\t\t\t\tstyle={{ width: '90%' }} /> <span style={{ position: \"absolute\", bottom: \"6px\", fontSize: \"14px\", right: \"25px\", fontWeight: \"bold\" }}>{rangeValue}x</span> <br />\n\t\t\t\t\t</div>\n\t\t\t\t\t<p style={{ fontFamily: \"'Inter', sans-serif\", fontSize: \"13px\", fontWeight: \"600\", paddingTop: \"20px\", marginLeft: \"-0px\" }}>You are buying in the long</p>\n\t\t\t\t\t<table className='tradebox_table1' style={{ width: \"100%\" }}>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr style={{ width: \"100%\" }}>\n\t\t\t\t\t\t\t\t<td style={{ width: \"40%\", fontFamily: \"'Inter', sans-serif\", color: \"#797979\", fontWeight: \"600\" }}>Position size</td>\n\t\t\t\t\t\t\t\t<td style={{ width: \"60%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{baseXrange == 0 ? ((baseValue == null) ? 0 : (baseValue / graphValues.marketprice).toFixed(2)) : ((baseXrange / graphValues.marketprice).toFixed(4))} XTZ <img src=\"img/tz.svg\" /></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr style={{ width: \"100%\" }}>\n\t\t\t\t\t\t\t\t<td style={{ width: \"40%\", fontFamily: \"'Inter', sans-serif\", color: \"#797979\", fontWeight: \"600\" }}>Entry price</td>\n\t\t\t\t\t\t\t\t<td style={{ width: \"60%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{graphValues.marketprice} kUSD <img style={{ width: \"20px\" }} src=\"img/kusd.png\" /></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t\t<hr style={{ position: \"relative\", left: \"-10px\", width: \"100%\", top: \"20px\" }} />\n\n\n\t\t\t\t\t<table className='tradebox_table1' style={{ width: \"100%\" }}>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr style={{ width: \"100%\", }}>\n\t\t\t\t\t\t\t\t<td style={{ width: \"40%\", fontFamily: \"'Inter', sans-serif\", fontWeight: \"600\", color: \"#C0C0C0\" }}>Amount</td>\n\t\t\t\t\t\t\t\t<td style={{ width: \"60%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{baseValue} kUSD</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr style={{ width: \"100%\" }}>\n\t\t\t\t\t\t\t\t<td style={{ width: \"70%\", fontFamily: \"'Inter', sans-serif\", fontWeight: \"600\", color: \"#C0C0C0\" }}>Trading fee</td>\n\t\t\t\t\t\t\t\t<td style={{ width: \"30%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{(baseValue / 100) * 2} kUSD</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr style={{ width: \"100%\" }}>\n\t\t\t\t\t\t\t\t<td style={{ width: \"40%\", fontFamily: \"'Inter', sans-serif\", fontWeight: \"600\", color: \"#C0C0C0\" }}>Price impact</td>\n\t\t\t\t\t\t\t\t<td style={{ width: \"60%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{baseValue == 0 ? 0 : priceImpact.toFixed(2)}%</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr style={{ width: \"100%\" }}>\n\t\t\t\t\t\t\t\t<td style={{ width: \"70%\", fontFamily: \"'Inter', sans-serif\", fontWeight: \"600\", color: \"#C0C0C0\" }}>Slippage tolerance</td>\n\t\t\t\t\t\t\t\t<td style={{ width: \"30%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>2%</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t\t{isTxn ? <span style={{ width: \"100% !important\", position: \"relative\", left: \"35%\" }}><ScaleLoader color='#1ECC89' width={7} margin={6} /> </span> : <Button className=\"tradebox_button\" style={{ align: 'center', width: '100%', borderRadius: \"8px\", marginTop: \"20px\", fontWeight: \"600\", backgroundColor: \"#1ECC89\", fontFamily: \"'Inter', sans-serif\" }} variant=\"contained\" color=\"success\"\n\t\t\t\t\t\tonClick={() => funOpenPosition(baseValue, rangeValue, 1)}>Long</Button>}\n\n\n\t\t\t\t</Box>\n\t\t\t</Modal> : isPosition == \"short\" && !currentPosition ? <Modal\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\taria-labelledby=\"modal-modal-title\"\n\t\t\t\taria-describedby=\"modal-modal-description\"\n\t\t\t>\n\t\t\t\t<Box sx={style} className=\"tradebox_main\" component=\"form\" noValidate autoComplete=\"off\">\n\t\t\t\t\t<Typography id=\"modal-modal-title\" variant=\"h4\" component=\"h2\" style={{ position: \"relative\", left: '-10px', width: '100%', fontFamily: \"'Inter', sans-serif\", fontWeight: \"800\", fontSize: \"25px\" }}>\n\t\t\t\t\t\tShort\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<div className='tradebox_amount'>\n\t\t\t\t\t\t<span className='tradebox_inputicon'><img style={{ padding: \"0 6px\", marginTop: \"-4px\", height: \"32px\" }} src=\"img/kusd.png\" alt=\"\" />kUSD</span>\n\t\t\t\t\t\t<input value={baseValue} style={{ fontFamily: \"'Inter', sans-serif\" }} type=\"number\" min=\"0\" max=\"100000000\" step=\"0.01\" className=\"tradebox\" id=\"outlined-basic\" placeholder=\"Amount\" variant=\"outlined\" onChange={(event) => setBaseValue(event.target.value, setOpenlongpriceImpact())} />\n\t\t\t\t\t\t<div style={{ width: \"100%\", fontSize: \"11px\", height: \"10px\", fontWeight: \"bold\", margin: \"2px 0\", padding: \"2px 0\", color: \"#a9a9a9\" }}>\n\t\t\t\t\t\t\t<div style={{ position: \"absolute\", right: \"10px\" }}>\n\t\t\t\t\t\t\t\t<button type='button' className='amount_percent_btn' onClick={() => { addBaseValue(25) }} >25%</button>\n\t\t\t\t\t\t\t\t<button type='button' className='amount_percent_btn' onClick={() => { addBaseValue(50) }} >50%</button>\n\t\t\t\t\t\t\t\t<button type='button' className='amount_percent_btn' onClick={() => { addBaseValue(75) }} >75%</button>\n\t\t\t\t\t\t\t\t<button type='button' className='amount_percent_btn' onClick={() => { addBaseValue(100) }} >100%</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='tradebox_leverage'>\n\t\t\t\t\t\t<h6>Leverage</h6>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\taria-label=\"Temperature\"\n\t\t\t\t\t\t\tdefaultValue={1}\n\t\t\t\t\t\t\tclassName=\"tradebox_levslider\"\n\t\t\t\t\t\t\tvalue={rangeValue}\n\t\t\t\t\t\t\tonChange={(event) => setRangeValue(event.target.value)}\n\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\tsx={{ color: `grey` }}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\tmarks\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={3}\n\t\t\t\t\t\t\tstyle={{ width: '90%' }} /> <span style={{ position: \"absolute\", bottom: \"6px\", fontSize: \"14px\", right: \"25px\", fontWeight: \"bold\" }}>{rangeValue}x</span> <br />\n\t\t\t\t\t</div>\n\t\t\t\t\t<p style={{ fontFamily: \"'Inter', sans-serif\", fontSize: \"13px\", fontWeight: \"600\", paddingTop: \"20px\", marginLeft: \"-0px\" }}>You are buying in the long</p>\n\t\t\t\t\t<table className='tradebox_table1' style={{ width: \"100%\" }}>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr style={{ width: \"100%\" }}>\n\t\t\t\t\t\t\t\t<td style={{ width: \"40%\", fontFamily: \"'Inter', sans-serif\", color: \"#797979\", fontWeight: \"600\" }}>Position size</td>\n\t\t\t\t\t\t\t\t<td style={{ width: \"60%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{baseXrange == 0 ? ((baseValue == null) ? 0 : (baseValue / graphValues.marketprice).toFixed(2)) : ((baseXrange / graphValues.marketprice).toFixed(4))} XTZ <img src=\"img/tz.svg\" /></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr style={{ width: \"100%\" }}>\n\t\t\t\t\t\t\t\t<td style={{ width: \"40%\", fontFamily: \"'Inter', sans-serif\", color: \"#797979\", fontWeight: \"600\" }}>Entry price</td>\n\t\t\t\t\t\t\t\t<td style={{ width: \"60%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{graphValues.marketprice} kUSD <img style={{ width: \"20px\" }} src=\"img/kusd.png\" /></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\n\t\t\t\t\t</table>\n\t\t\t\t\t<hr style={{ position: \"relative\", left: \"-10px\", width: \"100%\", top: \"20px\" }} />\n\n\n\t\t\t\t\t<table className='tradebox_table1' style={{ width: \"100%\" }}>\n\t\t\t\t\t\t<tr style={{ width: \"100%\", }}>\n\t\t\t\t\t\t\t<td style={{ width: \"40%\", fontFamily: \"'Inter', sans-serif\", fontWeight: \"600\", color: \"#C0C0C0\" }}>Amount</td>\n\t\t\t\t\t\t\t<td style={{ width: \"60%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{baseValue} kUSD</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr style={{ width: \"100%\" }}>\n\t\t\t\t\t\t\t<td style={{ width: \"70%\", fontFamily: \"'Inter', sans-serif\", fontWeight: \"600\", color: \"#C0C0C0\" }}>Trading fee</td>\n\t\t\t\t\t\t\t<td style={{ width: \"30%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{(baseValue / 100) * 2} kUSD</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr style={{ width: \"100%\" }}>\n\t\t\t\t\t\t\t<td style={{ width: \"40%\", fontFamily: \"'Inter', sans-serif\", fontWeight: \"600\", color: \"#C0C0C0\" }}>Price impact</td>\n\t\t\t\t\t\t\t<td style={{ width: \"60%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>{baseValue == 0 ? 0 : priceImpact.toFixed(2)}%</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr style={{ width: \"100%\" }}>\n\t\t\t\t\t\t\t<td style={{ width: \"70%\", fontFamily: \"'Inter', sans-serif\", fontWeight: \"600\", color: \"#C0C0C0\" }}>Slippage tolerance</td>\n\t\t\t\t\t\t\t<td style={{ width: \"30%\", textAlign: \"end\", fontFamily: \"'Inter', sans-serif\" }}>2%</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t{isTxn ? <span style={{ width: \"100% !important\", position: \"relative\", left: \"35%\" }}><ScaleLoader color='#E01B3C' width={7} margin={6} /> </span> : <Button className=\"tradebox_button\" style={{ align: 'center', width: '100%', borderRadius: \"8px\", marginTop: \"20px\", fontWeight: \"600\", backgroundColor: \"#E01B3C\", fontFamily: \"'Inter', sans-serif\" }} variant=\"contained\"\n\t\t\t\t\t\tonClick={() => funOpenPosition(baseValue, rangeValue, 2)}>SHORT</Button>}\n\t\t\t\t</Box>\n\t\t\t</Modal> : \"\"}\n\t\t</div>\n\t)\n}\n\nexport default Trade\n","import React, { useState, useEffect, useLayoutEffect } from 'react'\nimport \"../style/leaderbordcss.css\"\nimport Table from 'react-bootstrap/Table';\nimport Pagination from 'react-bootstrap/Pagination';\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport axios from 'axios'\n\n\n\n\n\nexport default function LeaderBoard() {\n\n  const [searchaddress,setsearchAddress] = useState(\"\")\n  const [isEmpty,setIsEmpty] = useState(false)\n  const [array,setArray] = useState([])\n  const [size,setSize] = useState(0);\n  // const arrsize =Math.trunc(array.length / 10 )+ 1;\n  const [page,setpage] = useState(1)\n  const [startrange, setStartRange] = useState(0)\n  const [range, setRange] = useState()\n\n  const getdata =async()=>{\n    await axios.get(\"https://zenith-api-l8hhy.ondigitalocean.app/leaderboard/\").then(result=>{\n    let data = result.data.reverse();\n    for(let i =0;i<data.length;i++){\n      data[i].rank =i;\n    }\n     setArray(data)\n   })\n   setSize(Math.trunc(array.length/ 10)+ 1);\n   setRange(array.length>10?10:array.length)\n   setIsEmpty(true)\n }\n\n  useLayoutEffect(()=>{\n    getdata()\n\n  },[isEmpty])\n\n\n  const onchange=(e)=>{\n    var newvalue =searchaddress.concat(e)\n    if(e==\"\"){\n\n      axios.get(\"https://zenith-api-l8hhy.ondigitalocean.app/leaderboard/\").then(result=>{\n        let data = result.data.reverse();\n    for(let i =0;i<data.length;i++){\n      data[i].rank =i;\n    }\n     setArray(data)\n      })\n    }\n    else{\n  \n      var newArray = array.filter(function (el)\n      {\n        return el.Address.includes(newvalue)\n               \n      })\n\n        setArray(newArray)\n      \n    }\n   \n\n  }\n  const prevvalues = () => {\n    if (page != 1) {\n      if(range == array.length){\n        setpage(page-1);\n        setStartRange(startrange-10) \n        setRange(startrange)\n       \n      }\n      else{\n        setpage(page-1);\n        setStartRange(startrange-10) \n        setRange(range - 10);\n      }\n\n    }\n\n  }\n  const nextvalues = () => {\n    if (page <= size) {\n      setpage(page+1)\n      if(array.length-range>10){\n        setStartRange(range)\n        setRange(range + 10);\n      }\n      else{\n        setStartRange(range)\n        setRange(array.length)\n      }\n    }\n  }\n  const startpage=()=>{\n    setpage(1);\n    setStartRange(0);\n    setRange(array.length>10?10:array.length)\n  }\n  const Lastpage=()=>{\n    setpage(size);\n    setStartRange((size*10)-10);\n    setRange(array.length)\n    \n  }\n\n\n  return (\n    <div className='LeaderboardMain'>\n      <div className='Leaderboardcontainer'>\n        <input  placeholder='Search..'  onChange={e=>onchange(e.target.value)}  />\n        <h2>\n          All Traders\n        </h2>\n        <div className='table_div'>\n        <table>\n          <thead>\n          <tr>\n            <th className='leaderboard_head'>Rank</th>\n            <th className='leaderboard_head'>Address</th>\n            <th className='leaderboard_head'>Liquidation</th>\n            <th className='leaderboard_head'>Total Trades</th>\n            <th className='leaderboard_head'>PnL</th>\n          </tr>\n          </thead>\n          <tbody>\n            {\n              isEmpty?(\n                \n                  array.slice(startrange, range).map((item, index) => {\n                    return (\n                      <tr key={index}>\n                        <td className='leaderboard_td' >{item.rank+1}</td>\n                        <td className='leaderboard_td'>{item.Address}</td>\n                        <td className='leaderboard_td'>{item.LiquidationCount== undefined?0:item.LiquidationCount}</td>\n                        <td className='leaderboard_td'>{item.CompletedPosition.length}</td>\n                        <td className='leaderboard_td' style={{color:`${item.Totalpnl<0?\"#e01b3c\":\"#198754\"}`,fontWeight:\"bold\"}}>${parseFloat(item.Totalpnl).toFixed(2)}</td>\n                      </tr>\n                    )\n                  })\n                \n              ):(<tr></tr>)\n            }\n          \n          </tbody>\n        </table>\n\n        </div>\n        <Pagination>\n          <Pagination.First onClick={startpage}/>\n          <Pagination.Prev onClick={page==1?null:prevvalues }/>\n\n          <Pagination.Item className='middlepagination' >{page} of {size}</Pagination.Item>\n\n          <Pagination.Next onClick={page==size?null:nextvalues} />\n          <Pagination.Last onClick={Lastpage} />\n        </Pagination>\n\n\n\n      </div>\n    </div>\n  )\n}\n","import React, { useState, useEffect, useContext } from 'react'\nimport Sidebar from './components/Sidebar'\nimport Stake from './components/Stake'\nimport Trade from './components/Trade'\nimport Hamburger from 'hamburger-react'\nimport { connectWallet, getAccount, disconnectWallet } from \"./utils/wallet\";\nimport { getBalance } from './utils/tezos'\nimport LeaderBoard from './components/LeaderBoard'\nimport Snackbar1 from './components/Snackbar'\nimport axios from 'axios'\nimport { PRECISION, vUSD_ADDRESS } from './utils/config'\nimport UserContext from './ContextProvider'\nimport { CONTRACT_ADDRESS } from \"./utils/config\"\nimport { ClipLoader } from 'react-spinners'\n\n\nconst Main = () => {\n  const { setCPosiitonUpdated, CPosiitonUpdated,setkusdTokenBalance} = useContext(UserContext)\n  const [Loading, setLoading] = useState(false)\n  const [address, setAddress] = useState(\"\")\n  const [tradeOrStake, setTradeOrStake] = useState('trade')\n  const [coinSelect, setCoinSelect] = useState('tezos');\n  const [account, setAccount] = useState(false);\n  const [isOpen, setOpen] = useState(false)\n  const [show, setshow] = useState(false);\n  const [tokenBalance, setTokenBalance] = useState(\"\")\n  const [type, setType] = useState(\n    {\n      type: \"\",\n      message: \"\",\n      transaction: \"\"\n    }\n  )\n\n\n\n  const gettokendata = async () => {\n    const accounts = await getAccount();\n    if (!accounts) {\n      setTokenBalance('')\n    }\n    else {\n      const getbalacnce = await axios.get(`https://api.ghostnet.tzkt.io/v1/contracts/${vUSD_ADDRESS}/bigmaps/balances/keys/${accounts}`)\n      if (getbalacnce.data == '') {\n        return true\n      }\n      else {\n        setTokenBalance((getbalacnce.data.value.balance / PRECISION).toFixed(2))\n        setkusdTokenBalance((getbalacnce.data.value.balance / PRECISION).toFixed(2))\n      }\n    }\n\n  }\n\n  const onConnectWallet = async () => {\n    await connectWallet();\n    const accounts = await getAccount();\n    setAccount(accounts);\n    gettokendata()\n  };\n\n  const onDisconnectWallet = async () => {\n    await disconnectWallet();\n    setAccount(false);\n    gettokendata()\n\n  };\n\n  useEffect(() => {\n    (async () => {\n      const accounts = await getAccount();\n      setAccount(accounts);\n      setAddress(accounts)\n      await gettokendata();\n    })();\n  }, [CPosiitonUpdated, address, account]);\n\n  const getToken = async () => {\n    setLoading(true)\n    const accounts = await getAccount();\n    if (!accounts) {\n      setType(\n        {\n          type: \"error\",\n          message: \"Connect Your Wallet First\"\n        }\n      )\n      setshow(true)\n      setLoading(false)\n      return\n    }\n\n    await axios.post(\"https://zenith-api-l8hhy.ondigitalocean.app/getToken/\", {\n      address: account\n    }).then((res) => {\n      if (res.data == \"Issued\") {\n        setType(\n          {\n            type: \"success\",\n            message: \"Transaction Done!, Now you can trade\"\n          }\n        )\n        gettokendata()\n        setshow(true)\n        setLoading(false)\n        gettokendata()\n\n      } else if (res.data == \"Already Issued\") {\n        setType(\n          {\n            type: \"error\",\n            message: \"You already issued the tokens\"\n          }\n        )\n        setshow(true)\n        setLoading(false)\n\n      } else {\n        setType(\n          {\n            type: \"error\",\n            message: \"An Error Occured. Please try again!\"\n          }\n        )\n        setshow(true)\n        setLoading(false)\n\n      }\n    })\n  }\n\n  const sidebarmenu = (event) => {\n    setTradeOrStake(event)\n    setOpen(false)\n  }\n\n\n  return (\n    <div className='mainbox d-flex' >\n      <Snackbar1 show={show} setshow={setshow} type={type} />\n      <link rel=\"stylesheet\" href=\"/styles/main.css\" />\n      <div className=\"nav-tab d-flex w-100 \">\n        <div className='Logo'><img style={{ width: \"40px\", height: \"40px\", marginRight: \"10px\" }} src=\"img/Logo.png\" />Zenith</div>\n\n        <div className='tradeNav d-flex '>\n          <div className={`${tradeOrStake === 'trade' ? 'tabs-sel' : ''} tabs`} onClick={() => { setTradeOrStake('trade') }}>Trade</div>\n          <div className={`${tradeOrStake === 'stake' ? 'tabs-sel' : ''} tabs`} /*onClick={() => { setTradeOrStake('stake') }}*/>Stake <span className=\"comingsoon\">coming soon</span></div>\n          <div className={`${tradeOrStake === 'leaderboard' ? 'tabs-sel' : ''} tabs`} onClick={() => { setTradeOrStake('leaderboard') }}>Leaderboard</div>\n          <div className={`tabs`} ><a href='https://docs.payperfi.com/' style={{ color: \"white\", textDecoration: \"none\" }} target=\"_blank\" rel=\"noopener noreferrer\"> Docs </a></div>\n          \n          <div className={`tabs`} ><a href='https://discord.gg/dgBRfYunrw' target=\"_blank\" rel=\"noopener noreferrer\"><img style={{ width: \"25px\", height: \"25px\" }} src=\"img/discordnav.png\" /> </a></div>\n          <div className='btncustmdiv'>\n            <button style={{ right: \"\" }} className=\" custom_btn\" onClick={getToken} >\n              {!Loading?<span>{tokenBalance == '' ? \"Get Token\" : `${tokenBalance} kUSD`}</span>:<ClipLoader\n              color=\"#ffff\"\n              size={20}\n            /> }\n              \n            </button>\n            <button className=\" custom_btn\" onClick={!account ? onConnectWallet : onDisconnectWallet} >{!account ? <span>Connect Wallet</span> : `${address.substring(0, 12)}..`}</button>\n          </div>\n        </div>\n        <Hamburger className=\"mobileviewcheck\" size={20} toggled={isOpen} toggle={setOpen} />\n      </div>\n      {\n        !account ? (\n          <button className=\"mobileviewconnect\" onClick={onConnectWallet} >{!account ? <span>Connect Wallet</span> : \"Disconnect\"}</button>\n\n        ) : (\n          <button className=\" mobileviewconnect\" style={{minWidth:\"105px\"}} onClick={getToken} >{!Loading?<span>{tokenBalance == '' ? \"Get Token\" : `${tokenBalance} kUSD`}</span>:<ClipLoader\n          color=\"#ffff\"\n          size={20}\n        /> }\n          </button>\n        )\n      }\n\n      <div className={`${isOpen ? \"menubar\" : \"unactivemenu\"}`}>\n        <div className={`mobilemenu`}>\n          <h3 onClick={() => navigator.clipboard\n            .writeText(address)\n            .then((res) => alert(\"Address Copied\"))} ><img src='img/walletimg.png' />{address == \"\" ? \"Wallet\" : address}</h3>\n          <div className=\"mobile_tabs\" onClick={() => { sidebarmenu('trade') }}>Trade</div>\n          <hr />\n          <div className=\"mobile_tabs\" /*onClick={() => { setTradeOrStake('stake') }}*/ >Stake <span className='comingsoonmobileview'>coming soon </span></div>\n          <hr />\n          <div className=\"mobile_tabs\" ><a href='https://payper-finance.gitbook.io/zenith-1/' style={{ color: \"white\", textDecoration: \"none\" }} target=\"_blank\" rel=\"noopener noreferrer\">Docs</a></div>\n          <hr />\n\n          <div className=\"mobile_tabs\" onClick={() => { sidebarmenu('leaderboard') }}>Leaderboard</div>\n          <hr />\n\n\n          <p className=\" mobile_tabs\" onClick={!account ? onConnectWallet : onDisconnectWallet} >{!account ? <span>Connect Wallet</span> : \"Disconnect\"}</p>\n\n        </div>\n      </div>\n        \n      <Sidebar coinSelect={coinSelect} stake={tradeOrStake} setCoinSelect={setCoinSelect} />\n      <div className=\"main-section\">\n\n        {\n          tradeOrStake === 'trade' ? <Trade coinSelect={coinSelect}  setCoinSelect={setCoinSelect} /> : tradeOrStake == \"stake\" ? <Stake /> : (\n            <LeaderBoard />\n          )\n        }\n      </div>\n\n    </div>\n  )\n}\n\nexport default Main\n","\nimport Main from './Main';\nimport {Routes,Route} from 'react-router-dom'\nimport TradeChart from './components/TradeChart';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Routes>\n        <Route path=\"/chart\" element={<TradeChart/>}/>\n        <Route path=\"/\" element={<Main/>}/>\n      </Routes>\n\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { SnackbarProvider } from \"notistack\";\nimport { BrowserRouter } from 'react-router-dom';\nimport { ContexProvider } from './ContextProvider.js';\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <ContexProvider>\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n  </ContexProvider>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}