(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{305:function(e,t){},352:function(e,t,n){},433:function(e,t,n){},434:function(e,t,n){},465:function(e,t){},488:function(e,t){},495:function(e,t){},497:function(e,t){},507:function(e,t){},509:function(e,t){},519:function(e,t){},520:function(e,t){},562:function(e,t){},564:function(e,t){},571:function(e,t){},572:function(e,t){},610:function(e,t,n){},612:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n(355),c=n.n(a),i=(n(433),n(0)),r=n(52),o=n(18),l=(n(434),n(666)),d=n(72),j=n.n(d),b="ghostnet",h="https://rpc.ghostnet.teztnets.xyz/",u=1e18,x="KT1F2Yj6aCFDCxBAQeW9jyfdH4VoLeMG9wTg",m="KT1D5xQy9x7YSgrzTzLJx9tEQ6qK9pSW2vfz",p=n(1),O=function(e){var t=e.coinSelect,n=e.setCoinSelect,a=e.stake,c=Object(s.useState)(),i=Object(o.a)(c,2),r=i[0],d=i[1];return Object(s.useEffect)((function(){j.a.get("https://api.ghostnet.tzkt.io/v1/contracts/".concat(x,"/storage/")).then((function(e){d(e.data.current_mark_price)}))})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{style:{height:"".concat("stake"==a?"100%":"")},className:"sidebar ",children:Object(p.jsxs)("div",{className:"coins",children:[Object(p.jsxs)("div",{className:"".concat("tezos"===t?"sidebar-sel":""," coin my-3 d-flex text-start"),onClick:function(){n("tezos")},children:[Object(p.jsx)("div",{className:"mx-2",children:Object(p.jsx)("img",{src:"/img/tz.svg",style:{width:"20px"},alt:""})}),Object(p.jsxs)("div",{children:["Tezos ",Object(p.jsx)("br",{}),"XTZ"]}),Object(p.jsxs)("div",{className:"me-2 ms-auto text-end",children:[(r/u).toFixed(2)," vUSD"]})]}),Object(p.jsxs)("div",{disabled:!0,className:"".concat("btc"===t?"sidebar-sel":""," coin my-3 d-flex text-start"),children:[Object(p.jsx)("div",{className:"mx-2",children:Object(p.jsx)("img",{src:"img/btc.svg",style:{width:"20px"},alt:""})}),Object(p.jsxs)("div",{children:["Bitcoin ",Object(p.jsx)("br",{}),"BTC"]}),Object(p.jsx)("div",{className:"me-2 ms-auto text-end",children:"Coming soon"})]}),Object(p.jsxs)("div",{disabled:!0,className:"".concat("eth"===t?"sidebar-sel":""," coin my-3 d-flex text-start"),children:[Object(p.jsx)("div",{className:"mx-2",children:Object(p.jsx)("img",{src:"img/eth.svg",style:{width:"20px"},alt:""})}),Object(p.jsxs)("div",{children:["Ethereum",Object(p.jsx)("br",{}),"ETH"]}),Object(p.jsx)("div",{className:"me-2 ms-auto text-end",children:"Coming soon"})]})]})}),Object(p.jsxs)("div",{style:{display:"".concat("stake"==a?"none":"")},className:"Dropdown",children:[Object(p.jsxs)("span",{style:{position:"absolute",zIndex:"1",right:"10%",marginTop:"6px"},children:[Object(p.jsx)("img",{src:"img/Star 1.png"})," "]}),Object(p.jsxs)(l.a,{children:[Object(p.jsxs)(l.a.Toggle,{variant:"success",id:"dropdown-item-button",children:[Object(p.jsx)("img",{style:{marginRight:"10px",position:"relative",bottom:"3px",marginBottom:"5px",width:"30px"},src:"img/tz.svg"}),Object(p.jsx)("span",{style:{marginRight:"10px",position:"relative",bottom:"3px",marginBottom:"5px",fontSize:"18px",fontWeight:"bold"},children:t.toUpperCase()})]}),Object(p.jsxs)(l.a.Menu,{children:[Object(p.jsx)(l.a.Item,{href:"#/action-1",children:"Tezos"}),Object(p.jsx)(l.a.Item,{href:"#/action-2",children:"Bitcoin"}),Object(p.jsx)(l.a.Item,{href:"#/action-3",children:"Ethereum"})]})]})]})]})},f=n(359),g=function(){var e=Object(s.useState)("staking"),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(p.jsxs)("div",{className:"stake p-5",children:[Object(p.jsx)("link",{rel:"stylesheet",href:"/styles/stake.css"}),Object(p.jsxs)("div",{className:"heading-banner text-start p-5",children:[Object(p.jsxs)("div",{className:"heading-name p-4",children:[Object(p.jsx)("h2",{className:"fw-bolder",children:"Staking"}),Object(p.jsx)("h5",{children:"Total in staking 106852 ZNTH"})]}),Object(p.jsxs)("div",{className:"heading-infos d-flex",children:[Object(p.jsxs)("div",{className:"heading-info",children:[Object(p.jsx)("div",{className:"heading-info-title",children:"Available to stake"}),Object(p.jsx)("div",{className:"heading-info-value",children:"0 ZNTH"})]}),Object(p.jsxs)("div",{className:"heading-info",children:[Object(p.jsx)("div",{className:"heading-info-title",children:"Staked Balance"}),Object(p.jsx)("div",{className:"heading-info-value",children:"0 ZNTH"})]}),Object(p.jsxs)("div",{className:"heading-info",children:[Object(p.jsx)("div",{className:"heading-info-title",children:"APY"}),Object(p.jsx)("div",{className:"heading-info-value",children:"3.81%"})]}),Object(p.jsxs)("div",{className:"heading-info",children:[Object(p.jsx)("div",{className:"heading-info-title",children:"Total profit"}),Object(p.jsx)("div",{className:"heading-info-value",children:"0 kUSD"})]})]})]}),Object(p.jsxs)("div",{className:"stake-main d-flex",children:[Object(p.jsxs)("div",{className:"staking me-auto p-4",children:[Object(p.jsxs)("div",{className:"d-flex staking-tabs my-3 mx-2",children:[Object(p.jsx)("div",{className:"staking-tab  ".concat("staking"===n?"staking-tabs-sel":""," "),onClick:function(){a("staking")},children:"Staking"}),Object(p.jsx)("div",{className:"staking-tab  ".concat("unstaking"===n?"staking-tabs-sel":""," "),onClick:function(){a("unstaking")},children:"Unstaking"}),Object(p.jsx)("div",{className:"staking-tab  ".concat("claiming"===n?"staking-tabs-sel":""," "),onClick:function(){a("claiming")},children:"Claiming"})]}),"staking"===n?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:" w-100 staking-content d-flex",children:[Object(p.jsx)("input",{type:"text",className:"x-auto px-3",placeholder:"ZNTH",name:"staking",id:"staking-input"}),Object(p.jsx)("button",{className:"staking-btn",children:"0.00"})]}),Object(p.jsxs)("div",{className:"profits",children:[Object(p.jsxs)("div",{className:"profit d-flex",children:[Object(p.jsx)("div",{className:"me-auto",children:"Daily Profit"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"text-success",children:"+0"})," kUSD"]})]}),Object(p.jsxs)("div",{className:"profit d-flex",children:[Object(p.jsx)("div",{className:"me-auto",children:"Monthly Profit"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"text-success",children:"+0"})," kUSD"]})]}),Object(p.jsxs)("div",{className:"profit d-flex",children:[Object(p.jsx)("div",{className:"me-auto",children:"Yearly Profit"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"text-success",children:"+0"})," kUSD"]})]})]}),Object(p.jsx)("button",{className:"staking-button",children:"Stake"})]}):"unstaking"===n?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:" w-100 staking-content d-flex mt-4",children:[Object(p.jsx)("input",{type:"text",className:"x-auto px-3",placeholder:"ZNTH",name:"staking",id:"staking-input"}),Object(p.jsx)("button",{className:"staking-btn",children:"Amount"})]}),Object(p.jsxs)("p",{className:"text-start",children:["Staked 0 ZNTH.",Object(p.jsx)("span",{style:{fontSize:"12px",color:"rgba(98, 108, 182, 1)",marginLeft:"5px"},children:"Spend the entire amount."})," "]}),Object(p.jsx)("button",{className:"staking-button",children:"Unstake"})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:" w-100 staking-content d-flex mt-4",children:Object(p.jsx)("input",{type:"text",className:"w-100 px-3",placeholder:"You will recieve    0.00 kUSD",name:"staking",id:"staking-input"})}),Object(p.jsx)("button",{className:"staking-button my-5",children:"Claim"})]})]}),Object(p.jsxs)("div",{className:"Balance",children:[Object(p.jsx)("h4",{children:"Balance"}),Object(p.jsx)("input",{placeholder:"0 ZNTH",type:"text"}),Object(p.jsxs)("div",{className:"availabel_stake_balance",children:[Object(p.jsx)("p",{children:"Available to Stake"}),Object(p.jsx)("p",{children:"0 ZNTH"})]}),Object(p.jsx)(f.a,{children:"BUY ZNTH"})]}),Object(p.jsxs)("div",{className:"benefits  text-start p-4",children:[Object(p.jsx)("h3",{className:"fw-bold",children:"How do I benefit from staking?"}),Object(p.jsx)("p",{children:"Protocol takes a flat 1% fee on each trade. Half of this amount is redistributed among the XTZ token stackers. Stakers will receive vUSD continuously proportional to their portion of the total XTZ in staking. Rewards will accrue every 1 hour."})]})]})]})},v=n(377),y=n(376),k=n(354),w=n(92),C=n(17),N=n(169),S=n(59),F=n(276),_=n(189),T=n(260),D=n(653),A=n(678),I=n(654),U=n(375),W=n(655),E=n(656),P=n(219),z=n(669),L=n(652),H=n(679),B=n(157),R=n.n(B),M=n(371),Y=n(166),Z=n.n(Y),V=Object(M.a)("https://backend-vmm-zenith.herokuapp.com/");var X=function(e){var t=Object(s.useState)("5minute"),n=Object(o.a)(t,2),a=n[0],c=n[1],i=Object(s.useRef)(null);return Object(s.useLayoutEffect)((function(){var e=k.a.new("chartdiv"),t=w.a.new(e);t.rule("Candlestick").states.create("riseFromOpen",{fill:C.b(969865),stroke:C.b(969865)}),t.rule("Candlestick").states.create("dropFromOpen",{fill:C.b(14687036),stroke:C.b(14687036)}),e.setThemes([y.a.new(e),v.a.new(e),t]);var n=e.container.children.push(z.a.new(e,{}));e.numberFormatter.set("numberFormat","#,###.000");var s=n.panels.push(L.a.new(e,{wheelY:"zoomX",panX:!0,panY:!0})),c=s.yAxes.push(T.a.new(e,{renderer:D.a.new(e,{pan:"zoom"}),maxPrecision:3,tooltip:N.a.new(e,{}),numberFormat:"#,###.000",extraTooltipPrecision:3})),r="minute";"hour"==a?r="hour":"day"==a&&(r="day");var o=s.xAxes.push(A.a.new(e,{baseInterval:{timeUnit:r,count:1},renderer:I.a.new(e,{}),tooltip:N.a.new(e,{})})),l=c.createAxisRange(c.makeDataItem({value:0})),d=l.get("label");d&&d.setAll({fill:C.b(16777215),background:S.a.new(e,{fill:C.b(0)})});var b=l.get("grid");b&&b.setAll({strokeOpacity:.5,strokeDasharray:[2,5]});var h=s.series.push(U.a.new(e,{clustered:!1,valueXField:"Date",valueYField:"Close",highValueYField:"High",lowValueYField:"Low",openValueYField:"Open",calculateAggregates:!0,xAxis:o,yAxis:c,legendValueText:"open: [bold]{openValueY}[/] high: [bold]{highValueY}[/] low: [bold]{lowValueY}[/] close: [bold]{valueY}[/]",legendRangeValueText:""}));n.set("stockSeries",h),s.plotContainer.children.push(H.a.new(e,{stockChart:n,visible:!0,width:"200px"})).data.setAll([h]),s.set("cursor",W.a.new(e,{yAxis:c,xAxis:o,snapToSeries:[h],snapToSeriesBy:"y!"}));var u=s.set("scrollbarX",E.a.new(e,{orientation:"horizontal",height:50,visible:!1}));n.toolsContainer.children.push(u);var x=u.chart.xAxes.push(A.a.new(e,{baseInterval:{timeUnit:r,count:1},renderer:I.a.new(e,{})})),m=u.chart.yAxes.push(T.a.new(e,{renderer:D.a.new(e,{})})),p=u.chart.series.push(P.a.new(e,{valueYField:"Close",valueXField:"Date",xAxis:x,yAxis:m}));p.fills.template.setAll({visible:!0,fillOpacity:.3}),function(){var t=Z.a.stringify({granularity:a});j.a.post("https://backend-vmm-zenith.herokuapp.com/granularity",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){var n=t.data;F.a.new(e,{dateFields:["Date"],dateFormat:"yyyy.MM.dd G 'at' HH:mm:ss zzz",numericFields:["Open","High","Low","Close"]}).processMany(n),h.data.setAll(n),p.data.setAll(n)})).catch((function(e){return console.log(e)}))}();var O=function(t){var s=n.get("stockSeries"),a=s.data.getIndex(s.data.length-1);if(void 0!=a){var c=a.High,i=a.Low,r=a.Open,o=t;o>c&&(c=o),o<i&&(i=o);var j={Date:a.Date,Close:o,Open:r,Low:i,High:c};if(F.a.new(e,{dateFields:["Date"],dateFormat:"yyyy-MM-dd HH:mm:ss",numericFields:["Open","High","Low","Close"]}).processMany(j),console.log(s.data.length),s.data.setIndex(s.data.length-1,j),p.data.setIndex(p.data.length-1,j),console.log(s.data.getIndex(s.data.length-1)),d){l.animate({key:"value",to:o,duration:500,easing:_.a.out(_.a.cubic)}),d.set("text",n.getNumberFormatter().format(o));var b=d.get("background");b&&(o<r?b.set("fill",e.interfaceColors.get("negative")):b.set("fill",e.interfaceColors.get("positive")))}}};return V.on("data4",(function(e){console.log(e),O(e)})),V.on("data3",(function(t){!function(t){var s=Date.now(),c=n.get("stockSeries"),i=c.data.getIndex(c.data.length-1);if(void 0!=i){if("15minute"==a){if((i.Date-s)/1e3<900)return void O(t)}else if("hour"==a){if((i.Date-s)/1e3<3600)return void O(t)}else if("day"==a&&(i.Date-s)/1e3<86400)return void O(t);var r=i.Open,o=t,j={Date:s,Close:o,Open:o,Low:o,High:o};if(F.a.new(e,{dateFields:["Date"],dateFormat:"yyyy-MM-dd HH:mm:ss",numericFields:["Open","High","Low","Close"]}).processMany(j),c.data.push(j),p.data.push(j),s,d){l.animate({key:"value",to:o,duration:500,easing:_.a.out(_.a.cubic)}),d.set("text",n.getNumberFormatter().format(o));var b=d.get("background");b&&(o<r?b.set("fill",e.interfaceColors.get("negative")):b.set("fill",e.interfaceColors.get("positive")))}}}(t)})),i.current=n,function(){e.dispose()}}),[a]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("style",{children:"\n\n#chartcontrols {\n    height: auto;\n    padding: 5px 5px 0 16px;\n    position: relative;\n  }\n  \n\n  #chartdiv {\n    width: 100%;\n    height: 55vh;\n    max-width: 100%;\n    position: relative;\n  }\n\n  .am5stock-control-button {\n    box-sizing: border-box;\n    max-height: 200px;\n    font-size:12px;\n    opacity:1;\n  }\n  .am5stock-control-button{\n    box-sizing: border-box;\n    max-height: 200px;\n  }\n  .am5stock .am5stock-control-list-container{\n    position:absolute;\n    top:-11px;\n    left:-2px;\n    z-index:1;\n    min-height:100%;\n    box-sizing:border-box;\n    display:flex !important;\n  }\n\n  .am5stock-control-list{\n    display:flex !important;\n  }\n  .am5stock-control-list-arrow{\n    display:none;\n  }\n\n  .am5stock-control-drawing-tools{\n    display: block;\n  position: absolute;\n    display:none\n  }\n  .am5stock-control-dropdown{\n    font-size:12px;\n  }\n  .am5stock-link {\n    color:white;\n    text-decoration:none;\n  }\n  .active{\n    background :#281e3d;\n    \n  }\n  .logohide{\n    margin-top:-19px;\n    position: absolute;\n    width:60px;\n    height:15px;\n    background:#000614;\n    z-index:1;\n  }\n  .candletime{\n    margin:0 8px;\n    min-width:60px;\n    border-radius:5px;\n    color:white;\n    border:none;\n    background:none;\n  }\n  .active{\n    background:#59219d;\n  }\n@media screen and (max-width:766px) and (min-width:270px){\n  #chartdiv {\n    width: 100%;\n    height: 40vh;\n    max-width: 100%;\n    position: relative;\n  }\n}\n\n      "}),Object(p.jsxs)("ul",{className:"candletimediv",children:[Object(p.jsx)("button",{className:"".concat("5minute"==a?"active":""," candletime"),onClick:function(){return c("5minute")},children:"5min"}),Object(p.jsx)("button",{className:"".concat("15minute"==a?"active":""," candletime"),onClick:function(){return c("15minute")},children:"15min"}),Object(p.jsx)("button",{className:"".concat("hour"==a?"active":""," candletime"),onClick:function(){return c("hour")},children:"Hour"}),Object(p.jsx)("button",{className:"".concat("day"==a?"active":""," candletime"),onClick:function(){return c("day")},children:"Day"})]}),Object(p.jsx)("div",{id:"chartcontrols1"}),Object(p.jsx)("div",{id:"chartdiv"}),Object(p.jsx)("span",{className:"logohide"})]})};R()(document).ready((function(){R()(".am5stock-list-item").last().addClass("active"),R()(".am5stock-list-item").click((function(){R()(".am5stock-list-item").removeClass("active"),R()(this).addClass("active")}))}));var q=n(682),G=n(675),J=n(683),K=n(668),Q=n(672),$=n(116),ee=new(n(370).a)({name:"Zenith",preferredNetwork:b}),te=function(){var e=Object(r.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.requestPermissions({network:{type:b,rpcUrl:h}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(r.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.clearActiveAccount();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(r.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.client.getActiveAccount();case 2:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t.address);case 7:return e.abrupt("return","");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=n(19),ce=n(3),ie=n(4),re=n(190),oe=n(367),le=Object(oe.a)("snackBar"),de=function(){function e(){Object(ce.a)(this,e),Object.defineProperty(this,le,{writable:!0,value:{enqueueSnackbar:function(){},closeSnackbar:function(){}}})}return Object(ie.a)(e,[{key:"setSnackBar",value:function(e,t){Object(re.a)(this,le)[le].enqueueSnackbar=e,Object(re.a)(this,le)[le].closeSnackbar=t}},{key:"success",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.toast(e,Object(ae.a)(Object(ae.a)({},t),{},{variant:"success"}))}},{key:"warning",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.toast(e,Object(ae.a)(Object(ae.a)({},t),{},{variant:"warning"}))}},{key:"info",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.toast(e,Object(ae.a)(Object(ae.a)({},t),{},{variant:"info"}))}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.toast(e,Object(ae.a)(Object(ae.a)({},t),{},{variant:"error"}))}},{key:"toast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(ae.a)({variant:"default"},t);return Object(re.a)(this,le)[le].enqueueSnackbar(e,Object(ae.a)({},n))}},{key:"closeSnackbar",value:function(e){Object(re.a)(this,le)[le].closeSnackbar(e)}}]),e}(),je=new de,be=new $.b(h);be.setWalletProvider(ee);var he=1e18,ue=function(){var e=Object(r.a)(Object(i.a)().mark((function e(t,n,s){var a,c,r,o,l,d,j;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t*he,je.info("Transaction in Process"),je.info("Connecting Account"),e.next=6,be.wallet.at(x);case 6:return c=e.sent,je.info("Connecting Contracts"),e.next=10,be.wallet.at(m);case 10:return r=e.sent,je.info("Transaction in Process"),(o=r.methods.approve(x,a).toTransferParams()).kind=$.a.TRANSACTION,(l=c.methods.increasePosition(s,n,a).toTransferParams()).kind=$.a.TRANSACTION,e.next=18,be.wallet.batch([o,l]);case 18:return d=e.sent,je.info("Sending Txn"),e.next=22,d.send();case 22:return j=e.sent,je.info("Waiting for confirmation"),e.next=26,j.confirmation();case 26:return e.abrupt("return",j.opHash);case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0),je.error("Error Please Try Again");case 33:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t,n,s){return e.apply(this,arguments)}}(),xe=function(){var e=Object(r.a)(Object(i.a)().mark((function e(t){var n,s,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,je.info("Txn Started"),e.next=4,be.wallet.at(x);case 4:return n=e.sent,je.info("Contract Connected"),e.next=8,be.wallet.batch().withContractCall(n.methods.closePosition(t));case 8:return s=e.sent,je.info("Sending Txn"),e.next=12,s.send();case 12:return a=e.sent,je.info("Waiting for confirmation"),e.next=16,a.confirmation();case 16:return console.log(a),e.abrupt("return",a.opHash);case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0),je.error("Error Please Try Again");case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(r.a)(Object(i.a)().mark((function e(t,n){var s,a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,je.info("Txn Started"),e.next=4,be.wallet.at(x);case 4:return s=e.sent,je.info("Contract Connected"),e.next=8,be.wallet.batch().withContractCall(s.methods.decreasePosition(t,n*he));case 8:return a=e.sent,je.info("Sending Txn"),e.next=12,a.send();case 12:return c=e.sent,je.info("Waiting for confirmation"),e.next=16,c.confirmation();case 16:return je.success("Txn Success"),e.next=19,se();case 19:return e.sent,e.abrupt("return",c.opHash);case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0),je.error("Error Please Try Again");case 27:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t,n){return e.apply(this,arguments)}}(),pe=function(){var e=Object(r.a)(Object(i.a)().mark((function e(t){var n,s,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,je.info("Txn Started"),e.next=4,be.wallet.at(x);case 4:return n=e.sent,je.info("Contract Connected"),e.next=8,be.wallet.batch().withContractCall(n.methods.removeMargin(t*he));case 8:return s=e.sent,je.info("Sending Txn"),e.next=12,s.send();case 12:return a=e.sent,je.info("Waiting for confirmation"),e.next=16,a.confirmation();case 16:return je.success("Txn Success"),e.abrupt("return",a.opHash);case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0),je.error("Error Please Try Again");case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(r.a)(Object(i.a)().mark((function e(t){var n,s,a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,je.info("Txn Started"),e.next=4,be.wallet.at(x);case 4:return n=e.sent,je.info("Contract Connected"),e.next=8,be.wallet.at(m);case 8:return s=e.sent,je.info("Transaction in Process"),e.next=12,be.wallet.batch().withContractCall(s.methods.approve(x,t*he)).withContractCall(n.methods.addMargin(t*he));case 12:return a=e.sent,je.info("Sending Txn"),e.next=16,a.send();case 16:return c=e.sent,je.info("Waiting for confirmation"),e.next=20,c.confirmation();case 20:return je.success("Txn Success"),e.abrupt("return",c.opHash);case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0),je.error("Error Please Try Again");case 28:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t){return e.apply(this,arguments)}}(),fe=(n(352),n(676)),ge=n(681),ve=n(667),ye=n(657),ke=n(673),we=n(670);function Ce(e){var t=e.show,n=e.setshow,s=e.type;return Object(p.jsx)(ye.a,{style:{position:"absolute"},spacing:2,sx:{width:"100%"},children:"success"==s.type?Object(p.jsx)(ke.a,{open:t,autoHideDuration:6e3,onClose:function(){return n(!1)},children:Object(p.jsxs)(we.a,{onClose:function(){return n(!1)},severity:"success",sx:{width:"100%"},children:[s.message,Object(p.jsxs)("a",{href:"https://ghostnet.tzkt.io/".concat(s.transaction,"/"),target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline",marginLeft:"10px"},children:[" ",s.transaction]})]})}):Object(p.jsx)(ke.a,{open:t,autoHideDuration:6e3,onClose:function(){return n(!1)},children:Object(p.jsxs)(we.a,{onClose:function(){return n(!1)},severity:"error",sx:{width:"100%"},children:[s.message,Object(p.jsxs)("a",{href:"https://ghostnet.tzkt.io/".concat(s.transaction,"/"),target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline",marginLeft:"10px"},children:[" ",s.transaction]})]})})})}var Ne=Object(s.createContext)();function Se(e){var t=e.children,n=Object(s.useState)(!0),a=Object(o.a)(n,2),c=a[0],i=a[1];return Object(p.jsx)(Ne.Provider,{value:{setCPosiitonUpdated:i,CPosiitonUpdated:c},children:t})}var Fe=Ne;function _e(e){var t=e.positiondetail,n=e.graph,a=e.gethistory,c=e.Vmm,l=Object(s.useContext)(Fe),d=l.setCPosiitonUpdated,j=l.CPosiitonUpdated,b=Object(s.useState)(!1),h=Object(o.a)(b,2),x=h[0],m=h[1],O=Object(s.useState)(!1),f=Object(o.a)(O,2),g=f[0],v=f[1],y=Object(s.useState)(!1),k=Object(o.a)(y,2),w=k[0],C=k[1],N=Object(s.useState)(!1),S=Object(o.a)(N,2),F=S[0],_=S[1],T=Object(s.useState)(!1),D=Object(o.a)(T,2),A=D[0],I=D[1],U=Object(s.useState)(!1),W=Object(o.a)(U,2),E=W[0],P=W[1],z=Object(s.useState)(1),L=Object(o.a)(z,2),H=L[0],B=L[1],R=Object(s.useState)(0),M=Object(o.a)(R,2),Y=M[0],Z=M[1],V=Object(s.useState)(0),X=Object(o.a)(V,2),q=X[0],J=X[1],K=Object(s.useState)(0),$=Object(o.a)(K,2),ee=$[0],te=$[1],ne=Object(s.useState)(0),se=Object(o.a)(ne,2),ae=se[0],ce=se[1],ie=Object(s.useState)(0),re=Object(o.a)(ie,2),oe=re[0],le=re[1],de=Object(s.useState)(0),je=Object(o.a)(de,2),be=je[0],he=je[1],ye=Object(s.useState)(0),ke=Object(o.a)(ye,2),we=ke[0],Ne=ke[1],Se=Object(s.useState)(!1),_e=Object(o.a)(Se,2),Te=_e[0],De=_e[1],Ae=Object(s.useState)(0),Ie=Object(o.a)(Ae,2),Ue=Ie[0],We=Ie[1],Ee=Object(s.useState)({type:"",message:"",transaction:""}),Pe=Object(o.a)(Ee,2),ze=Pe[0],Le=Pe[1];Object(s.useEffect)((function(){He();var e=0;e=1==t.position?t.collateral_amount/u+(Ue-t.vUSD_amount/u)+t.funding_amount/u:t.collateral_amount/u+(t.vUSD_amount/u-Ue)+t.funding_amount/u,ce((parseFloat(e)/(parseFloat(t.vUSD_amount)/u)).toFixed(3)),le(100*ae)}),[oe,ae,t,n]);var He=function(){if(2==t.position){var e=c.vUSD_amount/c.token_amount,s=c.token_amount-t.position_value/u,a=c.invariant/s-c.vUSD_amount;We(a);var i=100*(a/(t.position_value/u)-e)/e;Ne(n.marketprice-i/100)}if(1==t.position){var r=c.token_amount/c.vUSD_amount,o=c.token_amount+t.position_value/u,l=c.vUSD_amount-c.invariant/o;We(l);var d=100*(t.position_value/u/l-r)/r;Ne(n.marketprice-d/100)}},Be=function(){var e=c.vUSD_amount/c.token_amount,t=c.vUSD_amount+Y,n=c.invariant/t-c.token_amount,s=Y/Math.abs(n);he(100*(s-e)/e)};Object(s.useEffect)((function(){Z(q*H),F&&Be(),A&&function(){var e=c.token_amount/c.vUSD_amount,t=c.vUSD_amount-Y,n=c.invariant/t-c.token_amount,s=Math.abs(n)/Y;he(100*(s-e)/e)}()}),[q,H,Y]);var Re=function(e){te(e)},Me=function(){var e=Object(r.a)(Object(i.a)().mark((function e(t,n,s){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,ue(t,n,s).then((function(e){console.log("response::: "+e),a(),_(!1),m(!1),void 0==e?(Le({type:"Failed",message:"Transaction Aborted !"}),De(!0)):(Le({type:"success",message:"Transaction Successful!",transaction:e}),De(!0))})).catch((function(e){Le({type:"Failed",message:"Transaction Failed !"}),De(!0)}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),m(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,s){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ce,{show:Te,setshow:De,type:ze}),Object(p.jsxs)("section",{className:"tradePostion",children:[Object(p.jsxs)("div",{className:"positon_Health",children:[Object(p.jsx)("h3",{children:"Position Health"}),oe>30?Object(p.jsx)("div",{children:Object(p.jsx)(ge.a,{now:oe})}):Object(p.jsx)("div",{children:Object(p.jsx)(ge.a,{className:"phWeak",now:oe})}),Object(p.jsxs)("div",{className:"figure_values",children:[Object(p.jsxs)("div",{className:"tpfigures",children:[Object(p.jsx)("p",{children:"Margin"}),Object(p.jsx)("p",{children:"Margin Ratio"})]}),Object(p.jsxs)("div",{className:"tpValues",children:[Object(p.jsxs)("p",{children:[1==t.position?(t.collateral_amount/u+(Ue-t.vUSD_amount/u)+t.funding_amount/u).toFixed(4):(t.collateral_amount/u+(t.vUSD_amount/u-Ue)+t.funding_amount/u).toFixed(4),"kUSD"]}),Object(p.jsx)("p",{children:ae})]})]}),Object(p.jsx)(G.a,{className:"tphAdd",onClick:function(){return v(!0)},children:"+ ADD"}),Object(p.jsx)(G.a,{className:"tphDec",onClick:function(){return C(!0)},children:"- Reduce"})]}),Object(p.jsxs)("div",{className:"positon_Status",children:[Object(p.jsx)("h3",{children:"Position Status"}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"tpstatus",children:[Object(p.jsxs)("p",{children:[1==t.position?"Long position":"Short Position","  "]}),Object(p.jsxs)("p",{children:[(t.position_value/u).toFixed(4)," XTZ"]}),Object(p.jsx)("p",{style:{fontWeight:"bold"},children:"Unrealized PNL"}),Object(p.jsx)("p",{children:1==t.position?Ue-t.vUSD_amount/u<0?Object(p.jsxs)("span",{style:{color:"#E01B3C",fontWeight:"bold"},children:[(Ue-t.vUSD_amount/u).toFixed(4)," kUSD "]}):Object(p.jsxs)("span",{style:{color:"#1ECC89",fontWeight:"bold"},children:[" ",(Ue-t.vUSD_amount/u).toFixed(4)," kUSD"]}):t.vUSD_amount/u-Ue<0?Object(p.jsxs)("span",{style:{color:"#E01B3C",fontWeight:"bold"},children:[(t.vUSD_amount/u-Ue).toFixed(4)," kUSD "]}):Object(p.jsxs)("span",{style:{color:"#1ECC89",fontWeight:"bold"},children:[" ",(t.vUSD_amount/u-Ue).toFixed(4)," kUSD"]})}),Object(p.jsx)(G.a,{onClick:function(){return P(!0)},children:"Close Position"})]}),Object(p.jsxs)("div",{className:"tps_figures_values",children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"tpsfigure",children:[Object(p.jsx)("p",{children:"Entry Price"}),Object(p.jsx)("p",{children:"Market Price"}),Object(p.jsx)("p",{children:"Expected Close Price"}),Object(p.jsx)("p",{children:"Net Funding"})]}),Object(p.jsxs)("div",{className:"tpsValues",children:[Object(p.jsxs)("p",{children:[(parseFloat(t.entry_price)/u).toFixed(4)," XTZ"]}),Object(p.jsxs)("p",{children:[n.marketprice," XTZ"]}),Object(p.jsxs)("p",{children:[we.toFixed(4),"  XTZ"]}),t.funding_amount<0?Object(p.jsx)("p",{style:{color:"#E01B3C"},children:(t.funding_amount/u).toFixed(4)}):Object(p.jsx)("p",{style:{color:"#1ECC89"},children:(t.funding_amount/u).toFixed(4)})]})]}),Object(p.jsx)(G.a,{className:"tphAdd",style:{fontSize:"14px"},onClick:function(){return _(!0)},children:"+ INCREASE"}),Object(p.jsx)(G.a,{className:"tphDec",style:{fontSize:"14px"},onClick:function(){return I(!0)},children:"-DECREASE"})]})]})]})]}),Object(p.jsxs)(ve.a,{centered:!0,show:g,onHide:v,backdrop:"static",keyboard:!1,children:[Object(p.jsxs)(ve.a.Header,{style:{border:"none"},closeButton:!0,children:[Object(p.jsx)(ve.a.Title,{style:{fontWeight:"bold"},children:"Add Margin"}),Object(p.jsx)(G.a,{style:{background:"none",border:"none"},children:Object(p.jsx)("img",{style:{height:"25px"},onClick:function(){v(!1),m(!1)},src:"/img/icons8-close-30.png"})})]}),Object(p.jsxs)(ve.a.Body,{children:[Object(p.jsx)("span",{style:{position:"absolute",marginTop:"7px",marginLeft:"15px"},children:Object(p.jsx)("img",{style:{height:"25px"},src:"/img/kusd.png"})}),Object(p.jsx)("input",{value:ee,onChange:function(e){return Re(e.target.value)},style:{width:"100%",height:"40px",borderRadius:"5px",margin:"2px 0px",background:"#30313d",border:"none",textAlign:"right",padding:"0 10px"},placeholder:"Amount"}),Object(p.jsxs)("div",{className:"marginbodydiv",style:{marginTop:"10px"},children:[Object(p.jsx)("p",{children:"Position margin"}),Object(p.jsxs)("p",{children:[(parseFloat((t.collateral_amount/u).toFixed(4))+parseFloat(ee)).toFixed(3)," kUSD"]})]})]}),Object(p.jsx)(ve.a.Footer,{style:{border:"none"},children:x?Object(p.jsxs)("span",{style:{width:"100% !important",position:"relative",left:"-35%"},children:[Object(p.jsx)(fe.a,{color:"#1ECC89",width:7,margin:6})," "]}):Object(p.jsx)(G.a,{variant:"secondary",onClick:Object(r.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Oe(ee).then((function(e){a(),m(!1),Le({type:"success",message:"Transaction Successful!",transaction:e}),De(!0)}));case 4:e.next=12;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),m(!1),Le({type:"failed",message:"Transaction failed!"}),De(!0);case 12:case"end":return e.stop()}}),e,null,[[0,6]])}))),style:{minWidth:"98%",background:"#1ECC89"},children:"ADD"})})]}),Object(p.jsxs)(ve.a,{centered:!0,show:w,onHide:function(){return C(!1)},backdrop:"static",keyboard:!1,children:[Object(p.jsxs)(ve.a.Header,{style:{border:"none"},closeButton:!0,children:[Object(p.jsx)(ve.a.Title,{style:{fontWeight:"bold"},children:"Reduce Margin"}),Object(p.jsx)(G.a,{style:{background:"none",border:"none"},children:Object(p.jsx)("img",{style:{height:"25px"},onClick:function(){C(!1),m(!1)},src:"/img/icons8-close-30.png"})})]}),Object(p.jsxs)(ve.a.Body,{children:[Object(p.jsx)("span",{style:{position:"absolute",marginTop:"7px",marginLeft:"15px"},children:Object(p.jsx)("img",{style:{height:"25px"},src:"/img/kusd.png"})}),Object(p.jsx)("input",{value:ee,type:"number",min:"0",max:"100000000",onChange:function(e){return Re(e.target.value)},style:{width:"100%",height:"40px",borderRadius:"5px",margin:"2px 0px",background:"#30313d",border:"none",textAlign:"right",padding:"0 10px"},placeholder:"Amount"}),Object(p.jsxs)("div",{className:"marginbodydiv",style:{marginTop:"10px"},children:[Object(p.jsx)("p",{children:"Position margin"}),Object(p.jsxs)("p",{children:[(parseFloat((t.collateral_amount/u).toFixed(4))-parseFloat(ee)).toFixed(4)," kUSD"]})]})]}),Object(p.jsx)(ve.a.Footer,{style:{border:"none"},children:x?Object(p.jsxs)("span",{style:{width:"100% !important",position:"relative",left:"-35%"},children:[Object(p.jsx)(fe.a,{color:"#E01B3C",width:7,margin:6})," "]}):Object(p.jsx)(G.a,{variant:"secondary",onClick:Object(r.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,pe(parseInt(ee)).then((function(e){a(),m(!1),Le({type:"success",message:"Transaction Successful!",transaction:e}),De(!0)}));case 4:e.next=12;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),m(!1),Le({type:"failed",message:"Transaction failed!"}),De(!0);case 12:case"end":return e.stop()}}),e,null,[[0,6]])}))),style:{minWidth:"98%",background:"#e01b3c"},children:"Reduce"})})]}),Object(p.jsxs)(ve.a,{centered:!0,show:E,onHide:E,backdrop:"static",keyboard:!1,children:[Object(p.jsxs)(ve.a.Header,{style:{border:"none"},closeButton:!0,children:[Object(p.jsx)(ve.a.Title,{style:{fontWeight:"bold"},children:"Close Position"}),Object(p.jsx)(G.a,{style:{background:"none",border:"none"},children:Object(p.jsx)("img",{style:{height:"25px"},onClick:function(){P(!1),m(!1)},src:"/img/icons8-close-30.png"})})]}),Object(p.jsxs)(ve.a.Body,{children:[Object(p.jsx)("p",{style:{fontSize:"14px",color:"#96979c"},children:"Are you sure you want to close the position?"}),Object(p.jsxs)("div",{className:"marginbodydiv",style:{borderBottom:"0.5px solid #30313d",fontWeight:"bold"},children:[Object(p.jsx)("p",{style:{flexBasis:"55%"},children:"Expected CLose Price"}),Object(p.jsx)("p",{children:we.toFixed(4)})]}),Object(p.jsxs)("div",{className:"marginbodydiv",style:{marginTop:"10px",fontWeight:"bold"},children:[Object(p.jsx)("p",{children:"Your Profit"}),Object(p.jsx)("p",{children:1==t.position?Ue-t.vUSD_amount/u+t.funding_amount/u<0?Object(p.jsxs)("span",{style:{color:"#E01B3C",fontWeight:"bold"},children:[(Ue-t.vUSD_amount/u+t.funding_amount/u).toFixed(4)," kUSD "]}):Object(p.jsxs)("span",{style:{color:"#1ECC89",fontWeight:"bold"},children:[" ",(Ue-t.vUSD_amount/u).toFixed(4)," kUSD"]}):t.vUSD_amount/u-Ue+t.funding_amount/u<0?Object(p.jsxs)("span",{style:{color:"#E01B3C",fontWeight:"bold"},children:[(t.vUSD_amount/u-Ue+t.funding_amount/u).toFixed(4)," kUSD "]}):Object(p.jsxs)("span",{style:{color:"#1ECC89",fontWeight:"bold"},children:[" ",(t.vUSD_amount/u-Ue+t.funding_amount/u).toFixed(4)," kUSD"]})})]})]}),Object(p.jsx)(ve.a.Footer,{style:{border:"none",display:"flex",width:"100%",justifyContent:"center"},children:x?Object(p.jsxs)("span",{style:{width:"100% !important",position:"relative",left:"0%"},children:[Object(p.jsx)(fe.a,{color:"#1ECC89",width:7,margin:6})," "]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(G.a,{variant:"secondary",onClick:Object(r.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,xe().then((function(e){"success"==e&&(m(!1),P(!1),d(!!j))})).catch((function(e){console.log(e),m(!1),P(!1),Le({type:"success",message:"Transaction Successful!,"}),De(!0)}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),m(!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),style:{minWidth:"42%",marginRight:"10px",background:"#1ECC89",fontWeight:"bold"},children:"Yes"}),Object(p.jsx)(G.a,{variant:"secondary",onClick:function(){return P(!1)},style:{minWidth:"42%",background:"#e01b3c",fontWeight:"bold"},children:"No"})]})})]}),Object(p.jsxs)(ve.a,{show:F,open:!0,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:[Object(p.jsxs)(ve.a.Header,{style:{border:"none",position:"relative",left:"10px"},closeButton:!0,children:[Object(p.jsx)(ve.a.Title,{style:{fontWeight:"bold"},children:"Increase Position"}),Object(p.jsx)(G.a,{style:{background:"none",border:"none"},children:Object(p.jsx)("img",{style:{height:"25px"},onClick:function(){_(!1),m(!1)},src:"/img/icons8-close-30.png"})})]}),Object(p.jsxs)(ve.a.Body,{style:{position:"relative",left:"10px"},children:[Object(p.jsxs)("div",{className:"tradebox_amount",children:[Object(p.jsxs)("span",{className:"tradebox_inputicon",children:[Object(p.jsx)("img",{style:{padding:"0 6px",marginTop:"-4px",height:"32px"},src:"img/kusd.png",alt:""}),"kUSD"]}),Object(p.jsx)("input",{value:q,style:{fontFamily:"'Inter', sans-serif"},type:"number",min:"0",max:"100000000",step:"0.01",className:"tradebox",id:"outlined-basic",placeholder:"Amount",variant:"outlined",onChange:function(e){return J(e.target.value,Be())}})]}),Object(p.jsxs)("div",{className:"tradebox_leverage",children:[Object(p.jsx)("h6",{children:"Leverage"}),Object(p.jsx)(Q.a,{"aria-label":"Temperature",defaultValue:1,className:"tradebox_levslider",value:H,onChange:function(e){return B(e.target.value)},color:"primary",sx:{color:"grey"},step:1,marks:!0,min:1,max:5,style:{width:"90%"}})," ",Object(p.jsxs)("span",{style:{position:"absolute",bottom:"6px",fontSize:"14px",right:"25px",fontWeight:"bold"},children:[H,"x"]})," ",Object(p.jsx)("br",{})]}),Object(p.jsx)("p",{style:{fontFamily:"'Inter', sans-serif",fontSize:"13px",fontWeight:"600",marginTop:"20px",marginLeft:"-8px"},children:"You are buying in the long"}),Object(p.jsx)("table",{className:"tradebox_table1",style:{width:"100%"},children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"40%",fontFamily:"'Inter', sans-serif",color:"#797979",fontWeight:"600"},children:"Positon size"}),Object(p.jsxs)("td",{style:{width:"60%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[0==Y?null==q?0:(q/n.marketprice).toFixed(4):(Y/n.marketprice).toFixed(4)," XTZ ",Object(p.jsx)("img",{src:"img/tz.svg"})]})]}),Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"40%",fontFamily:"'Inter', sans-serif",color:"#797979",fontWeight:"600"},children:"Entry price"}),Object(p.jsxs)("td",{style:{width:"60%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[n.marketprice," kUSD ",Object(p.jsx)("img",{style:{width:"20px"},src:"img/kusd.png"})]})]})]})}),Object(p.jsx)("hr",{style:{position:"relative",left:"-10px",width:"100%",top:"20px"}}),Object(p.jsx)("table",{className:"tradebox_table1",style:{width:"100%"},children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"40%",fontFamily:"'Inter', sans-serif",fontWeight:"600",color:"#C0C0C0"},children:"Amount"}),Object(p.jsxs)("td",{style:{width:"60%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[q," kUSD"]})]}),Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"70%",fontFamily:"'Inter', sans-serif",fontWeight:"600",color:"#C0C0C0"},children:"Trading Fee"}),Object(p.jsxs)("td",{style:{width:"30%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[q/100*2," kUSD"]})]}),Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"40%",fontFamily:"'Inter', sans-serif",fontWeight:"600",color:"#C0C0C0"},children:"Price impact"}),Object(p.jsxs)("td",{style:{width:"60%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[0==q?0:be.toFixed(4),"%"]})]}),Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"70%",fontFamily:"'Inter', sans-serif",fontWeight:"600",color:"#C0C0C0"},children:"Slippage tolerance"}),Object(p.jsx)("td",{style:{width:"30%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:"2%"})]})]})})]}),Object(p.jsx)(ve.a.Footer,{style:{border:"none"},children:x?Object(p.jsxs)("span",{style:{width:"100% !important",position:"relative",left:"-35%"},children:[Object(p.jsx)(fe.a,{color:"#1ECC89",width:7,margin:6})," "]}):Object(p.jsx)(G.a,{variant:"secondary",style:{minWidth:"98%",background:"#1ECC89",fontWeight:"bold"},onClick:function(){return Me(q,H,t.position)},children:"INCREASE"})})]}),Object(p.jsxs)(ve.a,{show:A,open:!0,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:["``",Object(p.jsxs)(ve.a.Header,{style:{border:"none",position:"relative",left:"10px"},closeButton:!0,children:[Object(p.jsx)(ve.a.Title,{style:{fontWeight:"bold"},children:"Decrease Position"}),Object(p.jsx)(G.a,{style:{background:"none",border:"none"},children:Object(p.jsx)("img",{style:{height:"25px"},onClick:function(){I(!1),m(!1)},src:"/img/icons8-close-30.png"})})]}),Object(p.jsxs)(ve.a.Body,{style:{position:"relative",left:"10px"},children:[Object(p.jsxs)("div",{className:"tradebox_amount",children:[Object(p.jsxs)("span",{className:"tradebox_inputicon",children:[Object(p.jsx)("img",{style:{padding:"0 6px",marginTop:"-4px",height:"32px"},src:"img/kusd.png",alt:""}),"kUSD"]}),Object(p.jsx)("input",{value:q,style:{fontFamily:"'Inter', sans-serif"},type:"number",min:"0",max:"100000000",step:"0.01",className:"tradebox",id:"outlined-basic",placeholder:"Amount",variant:"outlined",onChange:function(e){return J(e.target.value,Be())}})]}),Object(p.jsxs)("div",{className:"tradebox_leverage",children:[Object(p.jsx)("h6",{children:"Leverage"}),Object(p.jsx)(Q.a,{"aria-label":"Temperature",defaultValue:1,className:"tradebox_levslider",value:H,onChange:function(e){return B(e.target.value)},color:"primary",sx:{color:"grey"},step:1,marks:!0,min:1,max:5,style:{width:"90%"}})," ",Object(p.jsxs)("span",{style:{position:"absolute",bottom:"6px",fontSize:"14px",right:"25px",fontWeight:"bold"},children:[H,"x"]})," ",Object(p.jsx)("br",{})]}),Object(p.jsx)("p",{style:{fontFamily:"'Inter', sans-serif",fontSize:"13px",fontWeight:"600",marginTop:"20px",marginLeft:"-8px"},children:"You are buying in the long"}),Object(p.jsx)("table",{className:"tradebox_table1",style:{width:"100%"},children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"40%",fontFamily:"'Inter', sans-serif",color:"#797979",fontWeight:"600"},children:"Positon size"}),Object(p.jsxs)("td",{style:{width:"60%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[0==Y?null==q?0:(q/n.marketprice).toFixed(2):(Y/n.marketprice).toFixed(4)," XTZ ",Object(p.jsx)("img",{src:"img/tz.svg"})]})]}),Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"40%",fontFamily:"'Inter', sans-serif",color:"#797979",fontWeight:"600"},children:"Entry price"}),Object(p.jsxs)("td",{style:{width:"60%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[n.marketprice," vUSD ",Object(p.jsx)("img",{style:{width:"20px"},src:"img/kusd.png"})]})]})]})}),Object(p.jsx)("hr",{style:{position:"relative",left:"-10px",width:"100%",top:"20px"}}),Object(p.jsx)("table",{className:"tradebox_table1",style:{width:"100%"},children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"40%",fontFamily:"'Inter', sans-serif",fontWeight:"600",color:"#C0C0C0"},children:"Amount"}),Object(p.jsxs)("td",{style:{width:"60%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[q," kUSD"]})]}),Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"40%",fontFamily:"'Inter', sans-serif",fontWeight:"600",color:"#C0C0C0"},children:"Trading Fee"}),Object(p.jsxs)("td",{style:{width:"60%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[q/100*2," kUSD"]})]}),Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"40%",fontFamily:"'Inter', sans-serif",fontWeight:"600",color:"#C0C0C0"},children:"Price impact"}),Object(p.jsxs)("td",{style:{width:"60%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[0==q?0:be.toFixed(2),"%"]})]}),Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"70%",fontFamily:"'Inter', sans-serif",fontWeight:"600",color:"#C0C0C0"},children:"Slippage tolerance"}),Object(p.jsx)("td",{style:{width:"30%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:"2%"})]})]})})]}),Object(p.jsx)(ve.a.Footer,{style:{border:"none"},children:x?Object(p.jsxs)("span",{style:{width:"100% !important",position:"relative",left:"-35%"},children:[Object(p.jsx)(fe.a,{color:"#E01B3C",width:7,margin:6})," "]}):Object(p.jsx)(G.a,{variant:"secondary",style:{minWidth:"98%",background:"#e01b3c",fontWeight:"bold"},onClick:Object(r.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,me(H,q).then((function(e){a(),I(!1),m(!1),void 0==e?(Le({type:"Failed",message:"Transaction Aborted !"}),De(!0)):(Le({type:"success",message:"Transaction Successful!,",transaction:e}),De(!0))})).catch((function(e){m(!1),Le({type:"Failed",message:"Transaction Failed !"}),De(!0)}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),m(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),children:"DECREASE"})})]})]})}var Te=n(609);function De(){var e=Object(s.useContext)(Fe).CPosiitonUpdated,t=Object(s.useState)([]),n=Object(o.a)(t,2),a=n[0],c=n[1],l=function(){var e=Object(r.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:return t=e.sent,e.next=5,j.a.post("https://backend-vmm-zenith.herokuapp.com/positionshistory/",Z.a.stringify({address:t}),{header:{"Content-Type":"text/plain"}}).then((function(e){return e.data}));case 5:(n=e.sent)?(c(n),n.reverse()):c([]);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){setInterval(l,1e4)}),[e]),Object(p.jsxs)(Te.a,{className:"trading_details",borderless:"false",responsive:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"TIME"}),Object(p.jsx)("th",{children:"DIRECTION"}),Object(p.jsx)("th",{children:"COLLATERAL"}),Object(p.jsx)("th",{children:"POSITION SIZE"}),Object(p.jsx)("th",{children:"REALIZE PNL"})]})}),Object(p.jsx)("tbody",{children:0!=a.length?a.map((function(e,t){var n=new Date(e.time);return Object(p.jsxs)("tr",{children:[Object(p.jsxs)("td",{children:[n.toLocaleString()," "]}),1==e.position?Object(p.jsx)("td",{style:{color:"#1ecc89"},children:"Long"}):Object(p.jsx)("td",{style:{color:"#e01b3c"},children:"Short"}),Object(p.jsxs)("td",{children:[" ",e.collateral_amount]}),Object(p.jsxs)("td",{children:[e.vUSD_amount," "]}),e.realizedpnl>0?Object(p.jsx)("td",{style:{color:"#1ecc89"},children:parseFloat(e.realizedpnl).toFixed(3)}):Object(p.jsx)("td",{style:{color:"#e01b3c"},children:parseFloat(e.realizedpnl).toFixed(3)})]},t)})):Object(p.jsx)("tr",{style:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(p.jsx)("td",{children:Object(p.jsx)("img",{style:{height:"100px",width:"100px"},src:"img/nodata.png"})})})})]})}var Ae={position:"absolute",background:" #141724",top:"50%",left:"50%",transform:"translate(-50%, -50%)",p:4,"& > :not(style)":{m:1,width:"25ch"}},Ie=function(e){var t=Object(s.useContext)(Fe),n=(t.setCPosiitonUpdated,t.CPosiitonUpdated,Object(s.useState)(!1)),a=Object(o.a)(n,2),c=a[0],l=a[1],d=function(){return l(!0)},b=function(){return l(!1)},h=e.coinSelect,m=(e.setCoinSelect,Object(s.useState)(1)),O=Object(o.a)(m,2),f=O[0],g=O[1],v=Object(s.useState)(""),y=Object(o.a)(v,2),k=y[0],w=y[1],C=Object(s.useState)(),N=Object(o.a)(C,2),S=N[0],F=N[1],_=Object(s.useState)(0),T=Object(o.a)(_,2),D=T[0],A=T[1],I=Object(s.useState)({}),U=Object(o.a)(I,2),W=U[0],E=U[1],P=Object(s.useState)(!1),z=Object(o.a)(P,2),L=z[0],H=z[1],B=Object(s.useState)(!1),R=Object(o.a)(B,2),M=R[0],Y=R[1],Z=Object(s.useState)({marketprice:0,indexprice:0,rate:0,longfundingrate:0,shortfundingrate:0}),V=Object(o.a)(Z,2),$=V[0],ee=V[1],te=Object(s.useState)(!1),ne=Object(o.a)(te,2),ae=(ne[0],ne[1]),ce=Object(s.useState)(0),ie=Object(o.a)(ce,2),re=ie[0],oe=ie[1],le=Object(s.useState)(0),de=Object(o.a)(le,2),be=de[0],he=de[1],xe=Object(s.useState)(!1),me=Object(o.a)(xe,2),pe=me[0],Oe=me[1],ge=Object(s.useState)({type:"",message:"",transaction:""}),ve=Object(o.a)(ge,2),ye=ve[0],ke=ve[1],we=function(){var e=Object(r.a)(Object(i.a)().mark((function e(){var t,n,s,a,c,r,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:return t=e.sent,e.next=5,j.a.get("https://api.ghostnet.tzkt.io/v1/contracts/".concat(x,"/storage"));case 5:n=e.sent,s=Date.parse(n.data.upcoming_funding_time)-Date.now(),a=Math.floor(s%36e5/6e4),(c=Math.floor(s%6e4/1e3))<0?(a="00",c="00"):(a<10&&(a="0".concat(a)),c<10&&(c="0".concat(c))),r={invariant:n.data.vmm.invariant/u,vUSD_amount:n.data.vmm.vUSD_amount/u,token_amount:n.data.vmm.token_amount/u},oe(r),ee({marketprice:(parseFloat(n.data.current_mark_price)/u).toFixed(4),indexprice:(parseFloat(n.data.current_index_price)/u).toFixed(4),fundingTime:"".concat(a,":").concat(c),rate:0,longfundingrate:(n.data.long_funding_rate.value/u).toFixed(4),shortfundingrate:(n.data.short_funding_rate.value/u).toFixed(4)}),o=n.data.positions,t in o?(Y(!0),E(o[t])):(Y(!1),E({}));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){0==$.marketprice&&we(),setInterval(we,1e3)}),[]),Object(s.useEffect)((function(){A(S*f),"long"==k?Se():Te()}),[S,f,D]);var Ne=function(){var e=Object(r.a)(Object(i.a)().mark((function e(t,n,s){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0==t&&(ke({type:"failed",message:"Amount should be greater than 0!"}),Oe(!0)),e.prev=1,H(!0),e.next=5,ue(t,n,s).then((function(e){w(!1),H(!1),void 0==e?(ke({type:"Failed",message:"Transaction Aborted !"}),Oe(!0)):(ke({type:"success",message:"Transaction Successful!",transaction:e}),Oe(!0))}));case 5:e.next=15;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),w(!1),ae(!1),H(!1),ke({type:"Failed",message:"Transaction Failed !,"}),Oe(!0);case 15:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n,s){return e.apply(this,arguments)}}(),Se=function(){var e=re.vUSD_amount/re.token_amount,t=re.vUSD_amount+D,n=re.invariant/t-re.token_amount,s=D/Math.abs(n);he(100*(s-e)/e)},Te=function(){var e=re.token_amount/re.vUSD_amount,t=re.vUSD_amount-D,n=re.invariant/t-re.token_amount,s=Math.abs(n)/D;he(100*(s-e)/e)};return Object(p.jsxs)("div",{children:[Object(p.jsx)(Ce,{show:pe,setshow:Oe,type:ye}),Object(p.jsx)("link",{rel:"stylesheet",href:"/styles/trade.css"}),Object(p.jsxs)("div",{className:"coin-name d-flex m-3",children:[Object(p.jsx)("div",{className:"icon fs-2",children:Object(p.jsx)("img",{style:{width:"35px",height:"35px"},src:"img/".concat("tezos"===h?"tz":"btc"===h?"btc":"eth",".svg"),alt:""})}),Object(p.jsxs)("div",{className:"coin-name d-flex flex-column ms-2",children:[Object(p.jsx)("h4",{className:"mb-0 text-start",children:"tezos"===h?"XTZ-PREP":"btc"===h?"BTC-PREP":"ETH-PREP"}),Object(p.jsx)("h6",{className:"text-start",children:"tezos"===h?"Tezos":"btc"===h?"Bitcoin":"Ethereum"})]})]}),Object(p.jsx)("div",{className:"trade-graph-enclosure",children:Object(p.jsxs)("div",{className:"graph-infos d-flex text-start",children:[Object(p.jsxs)("div",{className:"graph-info",children:[Object(p.jsx)("div",{className:"info-title",children:"Market Price"}),Object(p.jsxs)("div",{className:"info-values ",style:{color:"#1ECC89"},children:[$.marketprice," kUSD"]})]}),Object(p.jsxs)("div",{className:"graph-info",children:[Object(p.jsx)("div",{className:"info-title",children:"Index Price"}),Object(p.jsxs)("div",{className:"info-values",children:[$.indexprice," kUSD"]})]}),Object(p.jsxs)("div",{className:"graph-info",children:[Object(p.jsx)("div",{className:"info-title",children:"Next funding"}),Object(p.jsxs)("div",{className:"info-values",children:[" ",$.fundingTime]})]}),Object(p.jsxs)("div",{className:"graph-info",children:[Object(p.jsx)("div",{className:"info-title",children:" Long funding rate"}),Object(p.jsxs)("div",{className:"info-values ",style:{color:"#1ECC89"},children:[$.longfundingrate,"%"]})]}),Object(p.jsxs)("div",{className:"graph-info",children:[Object(p.jsx)("div",{className:"info-title",children:" Short funding rate"}),Object(p.jsxs)("div",{className:"info-values",style:{color:"#E01B3C"},children:[$.shortfundingrate,"%"]})]})]})}),Object(p.jsx)("div",{className:"long-short-enclosure",children:M?Object(p.jsx)("h5",{children:"You have taken a position. Now you can change the margin "}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h5",{children:"You can go Long or Short "}),Object(p.jsxs)("div",{className:"long-short-btns mt-4",children:[Object(p.jsx)("button",{className:"longbtn  mx-3 btn  ",style:{color:"white",fontWeight:"bold",background:"#1ECC89"},onClick:function(){w("long"),d()},children:"Long"}),Object(p.jsx)("button",{className:"shortbtn mx-3 btn ",style:{color:"white",fontWeight:"bold",background:"#E01B3C"},onClick:function(){w("short"),d(),je.info("Works")},children:"Short"})]})]})}),Object(p.jsx)("div",{className:"trade_chart",children:Object(p.jsx)(X,{})}),M?Object(p.jsx)(_e,{positiondetail:W,graph:$,gethistory:we,Vmm:re}):"",Object(p.jsxs)("div",{className:"history-enclosure text-white",children:[Object(p.jsx)("div",{style:{display:"flex"},children:Object(p.jsx)("h5",{className:"tradedetailsbtn text-start",style:{color:"whitesmoke"},children:"Position"})}),Object(p.jsx)(De,{})]}),"long"!=k||M?"short"!=k||M?"":Object(p.jsx)(K.a,{open:c,onClose:b,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(p.jsxs)(q.a,{sx:Ae,className:"tradebox_main",component:"form",noValidate:!0,autoComplete:"off",children:[Object(p.jsx)(J.a,{id:"modal-modal-title",variant:"h4",component:"h2",style:{position:"relative",left:"-10px",width:"100%",fontFamily:"'Inter', sans-serif",fontWeight:"800",fontSize:"25px"},children:"Short"}),Object(p.jsxs)("div",{className:"tradebox_amount",children:[Object(p.jsxs)("span",{className:"tradebox_inputicon",children:[Object(p.jsx)("img",{style:{padding:"0 6px",marginTop:"-4px",height:"32px"},src:"img/kusd.png",alt:""}),"kUSD"]}),Object(p.jsx)("input",{value:S,style:{fontFamily:"'Inter', sans-serif"},type:"number",min:"0",max:"100000000",step:"0.01",className:"tradebox",id:"outlined-basic",placeholder:"Amount",variant:"outlined",focused:!0,onChange:function(e){return F(e.target.value,Se())}})]}),Object(p.jsxs)("div",{className:"tradebox_leverage",children:[Object(p.jsx)("h6",{children:"Leverage"}),Object(p.jsx)(Q.a,{"aria-label":"Temperature",defaultValue:1,className:"tradebox_levslider",value:f,onChange:function(e){return g(e.target.value)},color:"primary",sx:{color:"grey"},step:1,marks:!0,min:1,max:5,style:{width:"90%"}})," ",Object(p.jsxs)("span",{style:{position:"absolute",bottom:"6px",fontSize:"14px",right:"25px",fontWeight:"bold"},children:[f,"x"]})," ",Object(p.jsx)("br",{})]}),Object(p.jsx)("p",{style:{fontFamily:"'Inter', sans-serif",fontSize:"13px",fontWeight:"600",paddingTop:"20px",marginLeft:"-0px"},children:"You are buying in the long"}),Object(p.jsx)("table",{className:"tradebox_table1",style:{width:"100%"},children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"40%",fontFamily:"'Inter', sans-serif",color:"#797979",fontWeight:"600"},children:"Positon size"}),Object(p.jsxs)("td",{style:{width:"60%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[0==D?null==S?0:(S/$.marketprice).toFixed(2):(D/$.marketprice).toFixed(4)," XTZ ",Object(p.jsx)("img",{src:"img/tz.svg"})]})]}),Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"40%",fontFamily:"'Inter', sans-serif",color:"#797979",fontWeight:"600"},children:"Entry price"}),Object(p.jsxs)("td",{style:{width:"60%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[$.marketprice," kUSD ",Object(p.jsx)("img",{style:{width:"20px"},src:"img/kusd.png"})]})]})]})}),Object(p.jsx)("hr",{style:{position:"relative",left:"-10px",width:"100%",top:"20px"}}),Object(p.jsxs)("table",{className:"tradebox_table1",style:{width:"100%"},children:[Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"40%",fontFamily:"'Inter', sans-serif",fontWeight:"600",color:"#C0C0C0"},children:"Amount"}),Object(p.jsxs)("td",{style:{width:"60%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[S," kUSD"]})]}),Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"70%",fontFamily:"'Inter', sans-serif",fontWeight:"600",color:"#C0C0C0"},children:"Trading fee"}),Object(p.jsxs)("td",{style:{width:"30%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[S/100*2," kUSD"]})]}),Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"40%",fontFamily:"'Inter', sans-serif",fontWeight:"600",color:"#C0C0C0"},children:"Price impact"}),Object(p.jsxs)("td",{style:{width:"60%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[be.toFixed(2),"%"]})]}),Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"70%",fontFamily:"'Inter', sans-serif",fontWeight:"600",color:"#C0C0C0"},children:"Slippage tolerance"}),Object(p.jsx)("td",{style:{width:"30%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:"2%"})]})]}),L?Object(p.jsxs)("span",{style:{width:"100% !important",position:"relative",left:"35%"},children:[Object(p.jsx)(fe.a,{color:"#E01B3C",width:7,margin:6})," "]}):Object(p.jsx)(G.a,{className:"tradebox_button",style:{align:"center",width:"100%",borderRadius:"8px",marginTop:"20px",fontWeight:"600",backgroundColor:"#E01B3C",fontFamily:"'Inter', sans-serif"},variant:"contained",onClick:function(){return Ne(S,f,2)},children:"SHORT"})]})}):Object(p.jsx)(K.a,{open:c,onClose:b,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(p.jsxs)(q.a,{sx:Ae,className:"tradebox_main",component:"form",noValidate:!0,autoComplete:"off",children:[Object(p.jsx)(J.a,{id:"modal-modal-title",variant:"h4",component:"h2",style:{position:"relative",left:"-10px",width:"100%",fontFamily:"'Inter', sans-serif",fontWeight:"800",fontSize:"25px"},children:"Long"}),Object(p.jsxs)("div",{className:"tradebox_amount",children:[Object(p.jsxs)("span",{className:"tradebox_inputicon",children:[Object(p.jsx)("img",{style:{padding:"0 6px",marginTop:"-4px",height:"32px"},src:"img/kusd.png",alt:""}),"kUSD"]}),Object(p.jsx)("input",{value:S,style:{fontFamily:"'Inter', sans-serif"},type:"number",min:"0",max:"100000000",className:"tradebox",id:"outlined-basic",placeholder:"Amount",variant:"outlined",onChange:function(e){return F(e.target.value,Se())}})]}),Object(p.jsxs)("div",{className:"tradebox_leverage",children:[Object(p.jsx)("h6",{children:"Leverage"}),Object(p.jsx)(Q.a,{"aria-label":"Temperature",defaultValue:1,className:"tradebox_levslider",value:f,onChange:function(e){return g(e.target.value)},color:"primary",sx:{color:"grey"},step:1,marks:!0,min:1,max:5,style:{width:"90%"}})," ",Object(p.jsxs)("span",{style:{position:"absolute",bottom:"6px",fontSize:"14px",right:"25px",fontWeight:"bold"},children:[f,"x"]})," ",Object(p.jsx)("br",{})]}),Object(p.jsx)("p",{style:{fontFamily:"'Inter', sans-serif",fontSize:"13px",fontWeight:"600",paddingTop:"20px",marginLeft:"-0px"},children:"You are buying in the long"}),Object(p.jsx)("table",{className:"tradebox_table1",style:{width:"100%"},children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"40%",fontFamily:"'Inter', sans-serif",color:"#797979",fontWeight:"600"},children:"Positon size"}),Object(p.jsxs)("td",{style:{width:"60%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[0==D?null==S?0:(S/$.marketprice).toFixed(2):(D/$.marketprice).toFixed(4)," XTZ ",Object(p.jsx)("img",{src:"img/tz.svg"})]})]}),Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"40%",fontFamily:"'Inter', sans-serif",color:"#797979",fontWeight:"600"},children:"Entry price"}),Object(p.jsxs)("td",{style:{width:"60%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[$.marketprice," kUSD ",Object(p.jsx)("img",{style:{width:"20px"},src:"img/kusd.png"})]})]})]})}),Object(p.jsx)("hr",{style:{position:"relative",left:"-10px",width:"100%",top:"20px"}}),Object(p.jsx)("table",{className:"tradebox_table1",style:{width:"100%"},children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"40%",fontFamily:"'Inter', sans-serif",fontWeight:"600",color:"#C0C0C0"},children:"Amount"}),Object(p.jsxs)("td",{style:{width:"60%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[S," kUSD"]})]}),Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"70%",fontFamily:"'Inter', sans-serif",fontWeight:"600",color:"#C0C0C0"},children:"Trading fee"}),Object(p.jsxs)("td",{style:{width:"30%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[S/100*2," kUSD"]})]}),Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"40%",fontFamily:"'Inter', sans-serif",fontWeight:"600",color:"#C0C0C0"},children:"Price impact"}),Object(p.jsxs)("td",{style:{width:"60%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:[be.toFixed(2),"%"]})]}),Object(p.jsxs)("tr",{style:{width:"100%"},children:[Object(p.jsx)("td",{style:{width:"70%",fontFamily:"'Inter', sans-serif",fontWeight:"600",color:"#C0C0C0"},children:"Slippage tolerance"}),Object(p.jsx)("td",{style:{width:"30%",textAlign:"end",fontFamily:"'Inter', sans-serif"},children:"2%"})]})]})}),L?Object(p.jsxs)("span",{style:{width:"100% !important",position:"relative",left:"35%"},children:[Object(p.jsx)(fe.a,{color:"#1ECC89",width:7,margin:6})," "]}):Object(p.jsx)(G.a,{className:"tradebox_button",style:{align:"center",width:"100%",borderRadius:"8px",marginTop:"20px",fontWeight:"600",backgroundColor:"#1ECC89",fontFamily:"'Inter', sans-serif"},variant:"contained",color:"success",onClick:function(){return Ne(S,f,1)},children:"Long"})]})})]})},Ue=n(374),We=(n(610),n(124));n(611);function Ee(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),n=t[0],a=(t[1],Object(s.useState)(!1)),c=Object(o.a)(a,2),l=c[0],d=c[1],b=Object(s.useState)([]),h=Object(o.a)(b,2),u=h[0],x=h[1],m=Object(s.useState)(0),O=Object(o.a)(m,2),f=O[0],g=O[1],v=Object(s.useState)(1),y=Object(o.a)(v,2),k=y[0],w=y[1],C=Object(s.useState)(0),N=Object(o.a)(C,2),S=N[0],F=N[1],_=Object(s.useState)(),T=Object(o.a)(_,2),D=T[0],A=T[1],I=function(){var e=Object(r.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("array"),e.next=3,j.a.get("https://backend-vmm-zenith.herokuapp.com/leaderboard/").then((function(e){x(e.data.reverse())}));case 3:g(Math.trunc(u.length/10)+1),A(u.length>10?10:u.length),d(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useLayoutEffect)((function(){I()}),[l]);return Object(p.jsx)("div",{className:"LeaderboardMain",children:Object(p.jsxs)("div",{className:"Leaderboardcontainer",children:[Object(p.jsx)("input",{placeholder:"Search..",onChange:function(e){return function(e){var t=n.concat(e);if(console.log(t),""==e)j.a.get("https://backend-vmm-zenith.herokuapp.com/leaderboard/").then((function(e){x(e.data.reverse())}));else{var s=u.filter((function(e){return e.Address.includes(t)}));x(s)}}(e.target.value)}}),Object(p.jsx)("h2",{children:"All Traders"}),Object(p.jsx)("div",{className:"table_div",children:Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{className:"leaderboard_head",children:"Rank"}),Object(p.jsx)("th",{className:"leaderboard_head",children:"Address"}),Object(p.jsx)("th",{className:"leaderboard_head",children:"Liquidation"}),Object(p.jsx)("th",{className:"leaderboard_head",children:"Total Trades"}),Object(p.jsx)("th",{className:"leaderboard_head",children:"PnL"})]})}),Object(p.jsx)("tbody",{children:l?u.slice(S,D).map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"leaderboard_td",children:t+1}),Object(p.jsx)("td",{className:"leaderboard_td",children:e.Address}),Object(p.jsx)("td",{className:"leaderboard_td",children:"N/A"}),Object(p.jsx)("td",{className:"leaderboard_td",children:e.CompletedPosition.length}),Object(p.jsxs)("td",{className:"leaderboard_td",style:{color:"".concat(e.Totalpnl<0?"#e01b3c":"#198754"),fontWeight:"bold"},children:["$",parseFloat(e.Totalpnl).toFixed(2)]})]},t)})):Object(p.jsx)("tr",{})})]})}),Object(p.jsxs)(We.a,{children:[Object(p.jsx)(We.a.First,{onClick:function(){w(1),F(0),A(u.length>10?10:u.length)}}),Object(p.jsx)(We.a.Prev,{onClick:1==k?null:function(){1!=k&&(D==u.length?(w(k-1),F(S-10),A(S)):(w(k-1),F(S-10),A(D-10)))}}),Object(p.jsxs)(We.a.Item,{className:"middlepagination",children:[k," of ",f]}),Object(p.jsx)(We.a.Next,{onClick:k==f?null:function(){k<=f&&(w(k+1),u.length-D>10?(F(D),A(D+10)):(F(D),A(u.length)))}}),Object(p.jsx)(We.a.Last,{onClick:function(){w(f),F(10*f-10),A(u.length)}})]})]})})}var Pe=function(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)("trade"),l=Object(o.a)(c,2),d=l[0],b=l[1],h=Object(s.useState)("tezos"),x=Object(o.a)(h,2),f=x[0],v=x[1],y=Object(s.useState)(!1),k=Object(o.a)(y,2),w=k[0],C=k[1],N=Object(s.useState)(!1),S=Object(o.a)(N,2),F=S[0],_=S[1],T=Object(s.useState)(!1),D=Object(o.a)(T,2),A=D[0],I=D[1],U=Object(s.useState)(""),W=Object(o.a)(U,2),E=W[0],P=W[1],z=Object(s.useState)({type:"",message:"",transaction:""}),L=Object(o.a)(z,2),H=L[0],B=L[1],R=function(){var e=Object(r.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:if(t=e.sent){e.next=7;break}P(""),e.next=15;break;case 7:return e.next=9,j.a.get("https://api.ghostnet.tzkt.io/v1/contracts/".concat(m,"/bigmaps/balances/keys/").concat(t));case 9:if(""!=(n=e.sent).data){e.next=14;break}return e.abrupt("return",!0);case 14:P((n.data.value.balance/u).toFixed(4));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(r.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:return e.next=4,se();case 4:t=e.sent,C(t),R();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(r.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:C(!1),R();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){Object(r.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:return t=e.sent,C(t),a(t),e.next=7,R();case 7:case"end":return e.stop()}}),e)})))()}),[]);var Z=function(){var e=Object(r.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:if(e.sent){e.next=7;break}return B({type:"error",message:"Connect Your Wallet First"}),I(!0),e.abrupt("return");case 7:return e.next=9,j.a.post("https://backend-vmm-zenith.herokuapp.com/getToken/",{address:w}).then((function(e){"Issued"==e.data?(B({type:"success",message:"Transaction Done!, Now you can trade"}),R(),I(!0)):"Already Issued"==e.data?(B({type:"error",message:"You already issued the tokens"}),I(!0)):(B({type:"error",message:"An Error Occured. Please try again!"}),I(!0))}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"mainbox d-flex",children:[Object(p.jsx)(Ce,{show:A,setshow:I,type:H}),Object(p.jsx)("link",{rel:"stylesheet",href:"/styles/main.css"}),Object(p.jsxs)("div",{className:"nav-tab d-flex w-100 ",children:[Object(p.jsxs)("div",{className:"Logo",children:[Object(p.jsx)("img",{style:{width:"40px",height:"40px",marginRight:"10px"},src:"img/Logo.png"}),"Zenith"]}),Object(p.jsxs)("div",{className:"tradeNav d-flex ",children:[Object(p.jsx)("div",{className:"".concat("trade"===d?"tabs-sel":""," tabs"),onClick:function(){b("trade")},children:"Trade"}),Object(p.jsxs)("div",{className:"".concat("stake"===d?"tabs-sel":""," tabs"),children:["Stake ",Object(p.jsx)("span",{className:"comingsoon",children:"coming soon"})]}),Object(p.jsx)("div",{className:"".concat("leaderboard"===d?"tabs-sel":""," tabs"),onClick:function(){b("leaderboard")},children:"Leaderboard"}),Object(p.jsx)("div",{className:"tabs",children:Object(p.jsxs)("a",{href:"https://discord.gg/dgBRfYunrw",target:"_blank",rel:"noopener noreferrer",children:[Object(p.jsx)("img",{style:{width:"25px",height:"25px"},src:"img/discordnav.png"})," "]})}),Object(p.jsxs)("div",{className:"btncustmdiv",children:[Object(p.jsx)("button",{style:{right:""},className:" custom_btn",onClick:Z,children:Object(p.jsx)("span",{children:""==E?"Get Token":E})}),Object(p.jsx)("button",{className:" custom_btn",onClick:w?Y:M,children:w?"".concat(n.substring(0,12),".."):Object(p.jsx)("span",{children:"Connect Wallet"})})]})]}),Object(p.jsx)(Ue.a,{className:"mobileviewcheck",size:20,toggled:F,toggle:_})]}),w?Object(p.jsx)("button",{className:" mobileviewconnect",onClick:Z,children:Object(p.jsx)("span",{children:""==E?"Get Token":E})}):Object(p.jsx)("button",{className:"mobileviewconnect",onClick:M,children:w?"Disconnect":Object(p.jsx)("span",{children:"Connect Wallet"})}),Object(p.jsx)("div",{className:"".concat(F?"menubar":"unactivemenu"),children:Object(p.jsxs)("div",{className:"mobilemenu",children:[Object(p.jsxs)("h3",{children:[Object(p.jsx)("img",{src:"img/walletimg.png"}),"Wallet"]}),Object(p.jsx)("div",{className:"mobile_tabs",onClick:function(){b("trade")},children:"Trade"}),Object(p.jsx)("hr",{}),Object(p.jsx)("div",{className:"mobile_tabs",children:"Stake"}),Object(p.jsx)("hr",{}),Object(p.jsx)("div",{className:"mobile_tabs",onClick:function(){b("leaderboard")},children:"LeaderBoard"}),Object(p.jsx)("p",{children:"Show in explorer"}),Object(p.jsx)("p",{children:"Copy address"}),Object(p.jsx)("p",{className:" mobile_tabs",onClick:w?Y:M,children:w?"Disconnect":Object(p.jsx)("span",{children:"Connect Wallet"})})]})}),Object(p.jsx)(O,{coinSelect:f,stake:d,setCoinSelect:v}),Object(p.jsx)("div",{className:"main-section",children:"trade"===d?Object(p.jsx)(Ie,{coinSelect:f,setCoinSelect:v}):"stake"==d?Object(p.jsx)(g,{}):Object(p.jsx)(Ee,{})})]})},ze=n(41);var Le=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(ze.c,{children:[Object(p.jsx)(ze.a,{path:"/chart",element:Object(p.jsx)(X,{})}),Object(p.jsx)(ze.a,{path:"/",element:Object(p.jsx)(Pe,{})})]})})},He=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,684)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),c(e),i(e)}))},Be=(n(613),n(254));c.a.createRoot(document.getElementById("root")).render(Object(p.jsx)(Se,{children:Object(p.jsx)(Be.a,{children:Object(p.jsx)(Le,{})})})),He()}},[[612,1,2]]]);
//# sourceMappingURL=main.386aab3d.chunk.js.map